{"remainingRequest":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/luzheng/Desktop/react+ts电商平台/vueDataV/src/views/home/thinkia.js","dependencies":[{"path":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/src/views/home/thinkia.js","mtime":1614752392434},{"path":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5ibGluay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZsb2F0MzItYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50MTYtYXJyYXkuanMiOwoKLyoqCiAqICB0aGlua2lhCiAqICAyMDE5LjUuOAogKgogKiovCi8vICB3aGF0J3MgaWEgPwp2YXIgSWEgPSBmdW5jdGlvbiBJYSgpIHsKICB2YXIgaWEgPSBuZXcgT2JqZWN0KCk7IC8vIGV5ZXMKCiAgaWEuZXllcyA9IHsKICAgIG1hdDQ6IFsxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxXSwKICAgIHBvc2l0aW9uOiBbMCwgMCwgMF0sCiAgICBnZXRQb3M6IGZ1bmN0aW9uIGdldFBvcygpIHsKICAgICAgdmFyIHBvcyA9IFtdOwogICAgICBwb3NbMF0gPSBpYS5leWVzLm1hdDRbMTJdOwogICAgICBwb3NbMV0gPSBpYS5leWVzLm1hdDRbMTNdOwogICAgICBwb3NbMl0gPSBpYS5leWVzLm1hdDRbMTRdOwogICAgICByZXR1cm4gcG9zOwogICAgfSwKICAgIGV1bGVyOiB7CiAgICAgIG9yZGVyOiAnWllYJywKICAgICAgY2VsbDogWzEsIDAsIDBdCiAgICB9LAogICAgcXVhdGVybmlvbjogWzAsIDAsIDAsIDFdLAogICAgaXNPcGVuOiBmYWxzZQogIH07IC8vIHZpZXcKCiAgaWEudmlldyA9IHsKICAgIC8vIG12TWF0CiAgICBtYXQ0OiBbMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMV0sCiAgICBnZXRQb3M6IGZ1bmN0aW9uIGdldFBvcygpIHsKICAgICAgdmFyIHBvcyA9IFtdOwogICAgICBwb3NbMF0gPSBpYS52aWV3Lm1hdDRbMTJdOwogICAgICBwb3NbMV0gPSBpYS52aWV3Lm1hdDRbMTNdOwogICAgICBwb3NbMl0gPSBpYS52aWV3Lm1hdDRbMTRdOwogICAgICByZXR1cm4gcG9zOwogICAgfSwKICAgIC8vICBtYXQ0IOWIneWni+acneWQkQogICAgdGFyZ2V0OiBbMCwgMCwgLTFdLAogICAgLy8gbWF0NOaXi+i9rOS/oeaBrwogICAgcm90YXRlQW5nbGU6IHsKICAgICAgLy8g6L2s6L20CiAgICAgIGF4aXM6ICdYWVonLAogICAgICAvLyDovazop5IKICAgICAgdmFsdWU6IDAKICAgIH0sCiAgICBnZXRDdXJSb3RhdGVBbmdsZTogZnVuY3Rpb24gZ2V0Q3VyUm90YXRlQW5nbGUoKSB7CiAgICAgIHZhciBub3JtYWwgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWEudmlldy50YXJnZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICBub3JtYWxbaV0gPSBpYS52aWV3LnRhcmdldFtpXTsKICAgICAgfQoKICAgICAgdmFyIGRpciA9IGlhLnRoaW5rTWF0aC52ZWMzLmFwcGx5TWF0NChub3JtYWwsIGlhLnZpZXcubWF0NCk7CiAgICAgIHZhciBvcmkgPSBpYS50aGlua01hdGgudmVjMy5hcHBseU1hdDQoWzAsIDAsIDBdLCBpYS52aWV3Lm1hdDQpOwogICAgICB2YXIgY3VyTm9ybWFsID0gW2RpclswXSAtIG9yaVswXSwgZGlyWzFdIC0gb3JpWzFdLCBkaXJbMl0gLSBvcmlbMl1dOwogICAgICBpYS52aWV3LnJvdGF0ZUFuZ2xlLnZhbHVlID0gaWEudGhpbmtNYXRoLnZlYzMuYXBwbHlWZWMzKG5vcm1hbCwgY3VyTm9ybWFsKTsKICAgICAgcmV0dXJuIGlhLnZpZXcucm90YXRlQW5nbGUudmFsdWU7CiAgICB9CiAgfTsgLy8g6K6w5b2V5LiA5Lqb5bi455SoIOedgOiJsuS7o+eggQoKICBpYS5jb2xvcmZ1bCA9IHsKICAgIGN1clZGOiAwLAogICAgLy8g6Ieq5a6a5LmJ552A6ImyCiAgICBmcmVlR0w6IHsKICAgICAgdlNyYzogJycsCiAgICAgIGZTcmM6ICcnCiAgICB9LAogICAgc2ltcGxlUG9pbnQ6IHsKICAgICAgdlNyYzogIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlIHZlYzQgYXZQb3M7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlIHZlYzQgYXZDb2xvcjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVQb2ludFNpemU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdW5pZm9ybSBtYXQ0IHVtdk1hdDtcbiAgICAgICAgICAgICAgICB1bmlmb3JtIG1hdDQgdXBNYXQ7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjNCB2Q29sb3I7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHVwTWF0ICogdW12TWF0ICogYXZQb3M7XG4gICAgICAgICAgICAgICAgICBnbF9Qb2ludFNpemUgPSB1UG9pbnRTaXplO1xuICAgICAgICAgICAgICAgICAgdkNvbG9yID0gYXZDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICIsCiAgICAgIGZTcmM6ICJcbiAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjNCB2Q29sb3I7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIgogICAgfSwKICAgIHRleHR1cmU6IHsKICAgICAgdlNyYzogIlxuICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGF2UG9zO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB1bmlmb3JtIG1hdDQgdW12TWF0O1xuICAgICAgICAgICAgICAgIHVuaWZvcm0gbWF0NCB1cE1hdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhcnlpbmcgaGlnaHAgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdm9pZCBtYWluKHZvaWQpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHVwTWF0ICogdW12TWF0ICogYXZQb3M7XG4gICAgICAgICAgICAgICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICB9IiwKICAgICAgZlNyYzogIlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyeWluZyBoaWdocCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbiAgICAgICAgICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAiCiAgICB9LAogICAgc2ltcGxlTGlnaHQ6IHsKICAgICAgdlNyYzogIlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGF2UG9zO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGF2Q29sb3I7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlIHZlYzMgYXZOb3JtYWw7XG4gICAgICAgICAgICAgICAgdW5pZm9ybSB2ZWMzIHVMaWdodENvbG9yO1xuICAgICAgICAgICAgICAgIHVuaWZvcm0gdmVjMyB1TGlnaHREaXI7XG4gICAgICAgICAgICAgICAgdW5pZm9ybSBtYXQ0IHVtdk1hdDtcbiAgICAgICAgICAgICAgICB1bmlmb3JtIG1hdDQgdXBNYXQ7XG4gICAgICAgICAgICAgICAgdmFyeWluZyB2ZWM0IHZDb2xvcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB1cE1hdCAqIHVtdk1hdCAqIGF2UG9zO1xuICAgICAgICAgICAgICAgICAgICAvLyBcdTY4MDdcdTUxQzZcdTUzMTZcdUZGMDhcdTYyOEFcdTk1N0ZcdTVFQTZcdTUzRDhcdTRFM0EgMSBcdUZGMDlcbiAgICAgICAgICAgICAgICAgICAgdmVjMyBub3JtYWwgPSBub3JtYWxpemUoYXZOb3JtYWwpO1xuICAgICAgICAgICAgICAgICAgICBmbG9hdCBuRG90TCA9IG1heChkb3QodUxpZ2h0RGlyLCBub3JtYWwpLCAwLjApO1xuICAgICAgICAgICAgICAgICAgICB2ZWMzIGRpZmZ1c2UgPSB1TGlnaHRDb2xvciAqIGF2Q29sb3IucmdiICogbkRvdEw7XG4gICAgICAgICAgICAgICAgICAgIHZDb2xvciA9IHZlYzQoZGlmZnVzZSwgYXZDb2xvci5hKTtcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAiLAogICAgICBmU3JjOiAiICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OyBcbiAgICAgICAgICAgICAgICB2YXJ5aW5nIHZlYzQgdkNvbG9yO1xuICAgICAgICAgICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgXG4gICAgICAgICAgICAiCiAgICB9LAogICAgdXNlU2ltcGxlUG9pbnQ6IGZ1bmN0aW9uIHVzZVNpbXBsZVBvaW50KCkgewogICAgICB2YXIgbnVtID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAyOwogICAgICBpYS5jb2xvcmZ1bC5jdXJWRiA9IDA7IC8vIOmhtueCuee7hCAgIDIgLS3kuoznu7Tnu4QgICAgMy0t5LiJ57u057uECgogICAgICBpYS53b3JsZC52QXR0cmliLm51bUNvbXBvbmVudHMgPSBudW07IC8vcmdiYQoKICAgICAgaWEud29ybGQuZkF0dHJpYi5udW1Db21wb25lbnRzID0gNDsKICAgIH0sCiAgICB1c2VUZXh0dXJlOiBmdW5jdGlvbiB1c2VUZXh0dXJlKCkgewogICAgICB2YXIgbnVtID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAzOwogICAgICBpYS5jb2xvcmZ1bC5jdXJWRiA9IDE7CiAgICAgIGlhLndvcmxkLnZBdHRyaWIubnVtQ29tcG9uZW50cyA9IG51bTsgLy8g57q555CG5Z2Q5qCHCgogICAgICBpYS53b3JsZC5mQXR0cmliLm51bUNvbXBvbmVudHMgPSAyOwogICAgfSwKICAgIHVzZVNpbXBsZUxpZ2h0OiBmdW5jdGlvbiB1c2VTaW1wbGVMaWdodCgpIHsKICAgICAgdmFyIG51bSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMzsKICAgICAgaWEuY29sb3JmdWwuY3VyVkYgPSAyOyAvLyDpobbngrnnu4QgICAyIC0t5LqM57u057uEICAgIDMtLeS4iee7tOe7hAoKICAgICAgaWEud29ybGQudkF0dHJpYi5udW1Db21wb25lbnRzID0gbnVtOyAvL3JnYmEKCiAgICAgIGlhLndvcmxkLmZBdHRyaWIubnVtQ29tcG9uZW50cyA9IDQ7CiAgICB9CiAgfTsgLy8gd29ybGQKICAvLyDov5nph4zmmK/lsIHoo4XluLjnlKjnmoR3ZWJnbOe7mOWItuaWueazlSAg55u05o6l55So5LqOIHR1dG9yaWFsCgogIGlhLndvcmxkID0gewogICAgcmVuZGVyOiB7CiAgICAgIC8vIOaYr+WQpuaMh+WumiBjYW52YXMg55qE5a696auYICAgICDpu5jorqTlvIDlkK8KICAgICAgaW5pdENhbnZhc1B4OiB0cnVlCiAgICB9LAogICAgcHJvZ3JhbUluZm86IHt9LAogICAgZ2w6IHt9LAogICAgZXhwYW5kOiB7CiAgICAgIC8vIOe6ueeQhuS7o+eggQogICAgICBoZWxsb0lhV29ybGRFeHBhbmQ6IHsKICAgICAgICB0ZXh0dXJlOiBmdW5jdGlvbiB0ZXh0dXJlKF90ZXh0dXJlKSB7CiAgICAgICAgICB2YXIgZ2wgPSBpYS53b3JsZC5nbDsKICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApOyAvLyBCaW5kIHRoZSB0ZXh0dXJlIHRvIHRleHR1cmUgdW5pdCAwCgogICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgX3RleHR1cmUpOyAvLyBUZWxsIHRoZSBzaGFkZXIgd2UgYm91bmQgdGhlIHRleHR1cmUgdG8gdGV4dHVyZSB1bml0IDAKCiAgICAgICAgICBnbC51bmlmb3JtMWkoaWEud29ybGQucHJvZ3JhbUluZm8udW5pZm9ybUxvY2F0aW9ucy51U2FtcGxlciwgMCk7CiAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCA0LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdGV4dHVyZTogewogICAgICBsb2FkVGV4dXJlOiBmdW5jdGlvbiBsb2FkVGV4dXJlKHVybCkgewogICAgICAgIHZhciBvbmxvYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIHZhciBnbCA9IGlhLndvcmxkLmdsOwogICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpOwogICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpOwogICAgICAgIHZhciBsZXZlbCA9IDA7CiAgICAgICAgdmFyIGludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTsKICAgICAgICB2YXIgd2lkdGggPSAxOwogICAgICAgIHZhciBoZWlnaHQgPSAxOwogICAgICAgIHZhciBib3JkZXIgPSAwOwogICAgICAgIHZhciBzcmNGb3JtYXQgPSBnbC5SR0JBOwogICAgICAgIHZhciBzcmNUeXBlID0gZ2wuVU5TSUdORURfQllURTsKICAgICAgICB2YXIgcGl4ZWwgPSBuZXcgVWludDhBcnJheShbMCwgMCwgMjU1LCAyNTVdKTsgLy8gb3BhcXVlIGJsdWUKCiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCBsZXZlbCwgaW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIGJvcmRlciwgc3JjRm9ybWF0LCBzcmNUeXBlLCBwaXhlbCk7CiAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CgogICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpOyAvLyDnv7vovawgWSDovbQKCiAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCAxKTsKICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgbGV2ZWwsIGludGVybmFsRm9ybWF0LCBzcmNGb3JtYXQsIHNyY1R5cGUsIGltYWdlKTsgLy8g5Zu+54mH55qE5a696auY5piv5ZCm5Li6MueahOaMh+aVsOasoeW5gjsKCiAgICAgICAgICBpZiAoaWEud29ybGQudGV4dHVyZS5pc1Bvd2VyT2YyKGltYWdlLndpZHRoKSAmJiBpYS53b3JsZC50ZXh0dXJlLmlzUG93ZXJPZjIoaW1hZ2UuaGVpZ2h0KSkgewogICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcChnbC5URVhUVVJFXzJEKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpOwogICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTsKICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7CiAgICAgICAgICB9CgogICAgICAgICAgb25sb2FkKHRleHR1cmUpOwogICAgICAgIH07CgogICAgICAgIGltYWdlLnNyYyA9IHVybDsKICAgICAgICByZXR1cm4gdGV4dHVyZTsKICAgICAgfSwKICAgICAgLy8g5piv5ZCm5Li6MueahOaMh+aVsOasoeW5ggogICAgICBpc1Bvd2VyT2YyOiBmdW5jdGlvbiBpc1Bvd2VyT2YyKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICh2YWx1ZSAmIHZhbHVlIC0gMSkgPT0gMDsKICAgICAgfQogICAgfSwKICAgIGpzb25PYmo6IHsKICAgICAgbG9hZEpzb246IGZ1bmN0aW9uIGxvYWRKc29uKHVybCkgewogICAgICAgIHZhciBvbmxvYWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZ1bmN0aW9uICgpIHt9OwogICAgICAgIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgb25sb2FkKGRhdGEpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcHJvZ3JhbToge30sCiAgICBjYW52YXM6ICcnLAogICAgYmxlbmQyb3BhY2l0eTogZnVuY3Rpb24gYmxlbmQyb3BhY2l0eSgpIHsKICAgICAgaWEud29ybGQuZ2wuZW5hYmxlKGlhLndvcmxkLmdsLkJMRU5EKTsKICAgICAgaWEud29ybGQuZ2wuYmxlbmRGdW5jKGlhLndvcmxkLmdsLlNSQ19BTFBIQSwgaWEud29ybGQuZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7CiAgICB9LAoKICAgIC8qKgogICAgICoKICAgICAqIEBwYXJhbSBuZWVkQ2xlYXIgICAg5piv5ZCm5riF55CGY2FudmFzCiAgICAgKiBAcGFyYW0gdlNyYyAgICAgICAgIOmhtueCueedgOiJsnNyYwogICAgICogQHBhcmFtIGZTcmMgICAgICAgICDniYflhYPnnYDoibJzcmMKICAgICAqIEBwYXJhbSBjYW52YXNJZAogICAgICogQHBhcmFtIGF2UG9zICAgICAgICDpobbngrnlnZDmoIcKICAgICAqIEBwYXJhbSBtdk1hdCAgICAgICAg5qih5Z6L6KeG5Y+j55+p6Zi1CiAgICAgKiBAcGFyYW0gcE1hdCAgICAgICAgIOaKleW9seefqemYtQogICAgICoKICAgICAqCiAgICAgKi8KICAgIGluaXRJYVdvcmxkOiBmdW5jdGlvbiBpbml0SWFXb3JsZCgpIHsKICAgICAgdmFyIG5lZWRDbGVhciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTsKICAgICAgdmFyIGNvbXBsZXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmdW5jdGlvbiAoKSB7fTsKICAgICAgdmFyIGNhbnZhc0lkID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnI2dsY2FudmFzJzsKICAgICAgdmFyIHZTcmM7CiAgICAgIHZhciBmU3JjOwoKICAgICAgc3dpdGNoIChpYS5jb2xvcmZ1bC5jdXJWRikgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHsKICAgICAgICAgICAgdlNyYyA9IGlhLmNvbG9yZnVsLnNpbXBsZVBvaW50LnZTcmM7CiAgICAgICAgICAgIGZTcmMgPSBpYS5jb2xvcmZ1bC5zaW1wbGVQb2ludC5mU3JjOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgewogICAgICAgICAgICB2U3JjID0gaWEuY29sb3JmdWwudGV4dHVyZS52U3JjOwogICAgICAgICAgICBmU3JjID0gaWEuY29sb3JmdWwudGV4dHVyZS5mU3JjOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgewogICAgICAgICAgICB2U3JjID0gaWEuY29sb3JmdWwuc2ltcGxlTGlnaHQudlNyYzsKICAgICAgICAgICAgZlNyYyA9IGlhLmNvbG9yZnVsLnNpbXBsZUxpZ2h0LmZTcmM7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY29uc29sZS5sb2coJyBkZXZpbmcgJyk7CiAgICAgIH0KCiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhbnZhc0lkKTsgLy8gaW5wb3J0YW50ISAgICDlm77niYflv4XpobvmjIflrppjYW52YXMg5aSn5bCPIO+8jCAg5ZCm5YiZIOWbvuW9oua4suafk+mUr+m9v+aEn+mdnuW4uOS4pemHjSEhISEhISEhISEhICAgIDIwMTkuNi4xOQogICAgICAvLyB0b2RvICAg5L2G5pivIOS4uuS7gOS5iCAg5LiN5oyH5a6aY2FudmFzIOWuvemrmCDmuLLmn5PnmoTmqKHlvI8g5Lya5LiN5LiA5qC35ZGi77yfICAyMTA5LjYuMTkgdGhpbmtpYQoKICAgICAgaWYgKGlhLndvcmxkLnJlbmRlci5pbml0Q2FudmFzUHgpIHsKICAgICAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogICAgICB9IC8vIOiOt+WPlndlYmdsMiDkuIrkuIvmlocKCgogICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJyk7IC8vIGFkZCAyMDE5LjEwLjIzCgogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlKTsKCiAgICAgIGZ1bmN0aW9uIG9uV2luZG93UmVzaXplKCkgewogICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gIiIuY29uY2F0KHdpbmRvdy5pbm5lcldpZHRoLCAicHgiKTsKICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gIiIuY29uY2F0KHdpbmRvdy5pbm5lckhlaWdodCwgInB4Iik7CiAgICAgICAgaWEuYWN0aW9uLmV5ZXMuYmxpbmsoKTsKICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsKICAgICAgfQoKICAgICAgaWYgKCFnbCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJyBub3Qgc3VwcG9ydCB3ZWJnbDIuJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOS/neWtmGdsIOWSjCBjYW52YXMKCgogICAgICBpYS53b3JsZC5nbCA9IGdsOwogICAgICBpYS53b3JsZC5jYW52YXMgPSBjYW52YXM7CgogICAgICBpZiAobmVlZENsZWFyKSB7CiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAxLjApOwogICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpOwogICAgICB9IC8vIOmhtueCueS4jueJh+WFg+edgOiJsgoKCiAgICAgIHZhciB2U2hhZGVyID0gaWEud29ybGQubG9hZFNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdlNyYyk7CiAgICAgIHZhciBmU2hhZGVyID0gaWEud29ybGQubG9hZFNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmU3JjKTsKICAgICAgdmFyIHNoYWRlclByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7CiAgICAgIGdsLmF0dGFjaFNoYWRlcihzaGFkZXJQcm9ncmFtLCB2U2hhZGVyKTsKICAgICAgZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZTaGFkZXIpOwogICAgICBnbC5saW5rUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTsKCiAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihzaGFkZXJQcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJlcnJvcjogIi5jb25jYXQoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coc2hhZGVyUHJvZ3JhbSkpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8KCgogICAgICBzd2l0Y2ggKGlhLmNvbG9yZnVsLmN1clZGKSB7CiAgICAgICAgLy8g5L2/55Soc2ltcGxlUG9pbnQg552A6ImyCiAgICAgICAgY2FzZSAwOgogICAgICAgICAgewogICAgICAgICAgICBpYS53b3JsZC5wcm9ncmFtSW5mbyA9IHsKICAgICAgICAgICAgICBwcm9ncmFtOiBzaGFkZXJQcm9ncmFtLAogICAgICAgICAgICAgIGF0dHJpYkxvY2F0aW9uczogewogICAgICAgICAgICAgICAgdmVydGV4UG9zaXRpb246IGdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sICdhdlBvcycpLAogICAgICAgICAgICAgICAgdmVydGV4Q29sb3I6IGdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sICdhdkNvbG9yJykKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHsKICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndXBNYXQnKSwKICAgICAgICAgICAgICAgIG1vZGVsVmlld01hdHJpeDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1bXZNYXQnKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgLy8g5L2/55SodGV4dHVyZeedgOiJsgoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB7CiAgICAgICAgICAgIGlhLndvcmxkLnByb2dyYW1JbmZvID0gewogICAgICAgICAgICAgIHByb2dyYW06IHNoYWRlclByb2dyYW0sCiAgICAgICAgICAgICAgYXR0cmliTG9jYXRpb25zOiB7CiAgICAgICAgICAgICAgICB2ZXJ0ZXhQb3NpdGlvbjogZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2F2UG9zJyksCiAgICAgICAgICAgICAgICB0ZXh0dXJlQ29vcmQ6IGdsLmdldEF0dHJpYkxvY2F0aW9uKHNoYWRlclByb2dyYW0sICdhVGV4dHVyZUNvb3JkJykKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHsKICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndXBNYXQnKSwKICAgICAgICAgICAgICAgIG1vZGVsVmlld01hdHJpeDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1bXZNYXQnKSwKICAgICAgICAgICAgICAgIHVTYW1wbGVyOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3VTYW1wbGVyJykKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB7CiAgICAgICAgICAgIGlhLndvcmxkLnByb2dyYW1JbmZvID0gewogICAgICAgICAgICAgIHByb2dyYW06IHNoYWRlclByb2dyYW0sCiAgICAgICAgICAgICAgYXR0cmliTG9jYXRpb25zOiB7CiAgICAgICAgICAgICAgICB2ZXJ0ZXhQb3NpdGlvbjogZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2F2UG9zJyksCiAgICAgICAgICAgICAgICB2ZXJ0ZXhDb2xvcjogZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2F2Q29sb3InKSwKICAgICAgICAgICAgICAgIHZlcnRleE5vcm1hbDogZ2wuZ2V0QXR0cmliTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ2F2Tm9ybWFsJykKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHsKICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndXBNYXQnKSwKICAgICAgICAgICAgICAgIG1vZGVsVmlld01hdHJpeDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sICd1bXZNYXQnKSwKICAgICAgICAgICAgICAgIGxpZ2h0Q29sb3I6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCAndUxpZ2h0Q29sb3InKSwKICAgICAgICAgICAgICAgIGxpZ2h0RGlyOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc2hhZGVyUHJvZ3JhbSwgJ3VMaWdodERpcicpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNvbnNvbGUubG9nKCdkZXZpbmcgJyk7CiAgICAgIH0KCiAgICAgIGNvbXBsZXRlKCk7CiAgICB9LAogICAgbG9hZFNoYWRlcjogZnVuY3Rpb24gbG9hZFNoYWRlcihnbCwgdHlwZSwgc3JjKSB7CiAgICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7CiAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYyk7IC8vIOe8luivkQoKICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpOyAvLyDlvILluLjmo4DmtYsKCiAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7CiAgICAgICAgY29uc29sZS5lcnJvcigiZXJyb3I6ICIuY29uY2F0KGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSkpOwogICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXIpOwogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gc2hhZGVyOwogICAgfSwKICAgIGdldEdMOiBmdW5jdGlvbiBnZXRHTCgpIHsKICAgICAgcmV0dXJuIGlhLndvcmxkLmdsOwogICAgfSwKICAgIGdldENhbnZhczogZnVuY3Rpb24gZ2V0Q2FudmFzKCkgewogICAgICByZXR1cm4gaWEud29ybGQuY2FudmFzOwogICAgfSwKICAgIHZBdHRyaWI6IHsKICAgICAgbnVtQ29tcG9uZW50czogMiwKICAgICAgdHlwZTogJycsCiAgICAgIG5vcm1hbGl6ZTogZmFsc2UsCiAgICAgIHN0cmlkZTogMCwKICAgICAgb2Zmc2V0OiAwCiAgICB9LAogICAgZkF0dHJpYjogewogICAgICBudW1Db21wb25lbnRzOiA0LAogICAgICB0eXBlOiAnJywKICAgICAgbm9ybWFsaXplOiBmYWxzZSwKICAgICAgc3RyaWRlOiAwLAogICAgICBvZmZzZXQ6IDAKICAgIH0sCiAgICBidWZmZXI6IHsKICAgICAgYXR0cmlidXRlOiB7CiAgICAgICAgYXJyYXk6ICcnLAogICAgICAgIGRyYXc6ICcnLAogICAgICAgIHBvc2l0aW9uczogW10KICAgICAgfSwKICAgICAgcG9zaXRpb25CdWZmZXI6IHsKICAgICAgICBpbml0QnVmZmVyOiBmdW5jdGlvbiBpbml0QnVmZmVyKCkgewogICAgICAgICAgdmFyIHBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogWzAuMCwgMC4wXTsKICAgICAgICAgIHZhciBjb2xvcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFsxLjAsIDAuMCwgMC4wLCAxLjBdOwogICAgICAgICAgdmFyIGFycmF5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBpYS53b3JsZC5nbC5BUlJBWV9CVUZGRVI7CiAgICAgICAgICB2YXIgZHJhdyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogaWEud29ybGQuZ2wuU1RBVElDX0RSQVc7CiAgICAgICAgICB2YXIgZ2wgPSBpYS53b3JsZC5nbDsKICAgICAgICAgIHZhciBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwogICAgICAgICAgZ2wuYmluZEJ1ZmZlcihhcnJheSwgcG9zaXRpb25CdWZmZXIpOwogICAgICAgICAgdmFyIHBvc2l0aW9ucyA9IHBvczsgLy8g5Yib5bu6RmxvYXQzMiDvvIzloavlhYXlvZPliY3nvJPlhrLljLoKCiAgICAgICAgICBnbC5idWZmZXJEYXRhKGFycmF5LCBuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucyksIGRyYXcpOwogICAgICAgICAgaWEud29ybGQuYnVmZmVyLmF0dHJpYnV0ZSA9IHsKICAgICAgICAgICAgcG9zaXRpb25zOiBwb3MKICAgICAgICAgIH07CiAgICAgICAgICB2YXIgY29sb3JCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTsKICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBjb2xvckJ1ZmZlcik7CiAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShjb2xvcnMpLCBnbC5TVEFUSUNfRFJBVyk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb25CdWZmZXIsCiAgICAgICAgICAgIGNvbG9yOiBjb2xvckJ1ZmZlcgogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRleHR1cmVCdWZmZXI6IHsKICAgICAgICBpbml0QnVmZmVyOiBmdW5jdGlvbiBpbml0QnVmZmVyKCkgewogICAgICAgICAgdmFyIHBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgICAgICB2YXIgY29vcmQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdOwogICAgICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBbXTsKICAgICAgICAgIHZhciBnbCA9IGlhLndvcmxkLmdsOwogICAgICAgICAgdmFyIHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7CiAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpOyAvLyDpobbngrnlnZDmoIcKCiAgICAgICAgICB2YXIgcG9zaXRpb25zID0gcG9zOwogICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkocG9zaXRpb25zKSwgZ2wuU1RBVElDX0RSQVcpOwogICAgICAgICAgdmFyIHRleHR1cmVDb29yZEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwogICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleHR1cmVDb29yZEJ1ZmZlcik7IC8vIHRvZG8g57q555CG5Z2Q5qCHICAgIHV25Y+N5bqPICAgIOWAvOW+l+azqOaEj+eahOaYr3dlYmdsIOeahOS4iee7tOWdkOaghyB55piv5bGP5bmV5pyd5LiK55qE77yMICAg6ICM5bGP5bmV5LqM57u05Z2Q5qCH55qEeSDmmK/mnJ3kuIvnmoQKICAgICAgICAgIC8vIGxldCB0ZXh0dXJlQ29vcmRpbmF0ZXMgPSBpYS53b3JsZC5idWZmZXIudGV4dHVyZUJ1ZmZlci51dlJldmVyc2UoIGNvb3JkKTsKCiAgICAgICAgICB2YXIgdGV4dHVyZUNvb3JkaW5hdGVzID0gY29vcmQ7CiAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0ZXh0dXJlQ29vcmRpbmF0ZXMpLCBnbC5TVEFUSUNfRFJBVyk7IC8vIOmhtueCuWJ1ZmZlcgoKICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwogICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIpOwogICAgICAgICAgdmFyIGluZGljZXMgPSBpbmRleDsKICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShpbmRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpOwogICAgICAgICAgaWEud29ybGQuYnVmZmVyLmF0dHJpYnV0ZSA9IHsKICAgICAgICAgICAgcG9zaXRpb25zOiBwb3MsCiAgICAgICAgICAgIHRleHR1cmVDb29yZDogY29vcmQsCiAgICAgICAgICAgIGluZGljZXM6IGluZGV4CiAgICAgICAgICB9OwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uQnVmZmVyLAogICAgICAgICAgICB0ZXh0dXJlQ29vcmQ6IHRleHR1cmVDb29yZEJ1ZmZlciwKICAgICAgICAgICAgaW5kaWNlczogaW5kZXhCdWZmZXIKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICAvLyB0b2RvICDlj43ovax1diAg5Lul6L6+5YiwIOWbvueJh+i9rOato+aViOaenO+8jCAg5YeG5aSH5byD55SoICAgMjAxOS42LjE4ICAgLS10aGlua2lhCiAgICAgICAgdXZSZXZlcnNlOiBmdW5jdGlvbiB1dlJldmVyc2UoKSB7CiAgICAgICAgICB2YXIgYXJyYXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICAgICAgdmFyIHRlbXAgPSBbXTsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGkgJSAyID09IDAgPyB0ZW1wW2ldID0gYXJyYXlbYXJyYXkubGVuZ3RoIC0gaSAtIDJdIDogdGVtcFtpXSA9IGFycmF5W2FycmF5Lmxlbmd0aCAtIGldOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0ZW1wOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2ltcGxlTGlnaHRCdWZmZXI6IHsKICAgICAgICBpbml0QnVmZmVyOiBmdW5jdGlvbiBpbml0QnVmZmVyKCkgewogICAgICAgICAgdmFyIHBvcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgICAgICB2YXIgY29sb3JzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgICAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogW107CiAgICAgICAgICB2YXIgbm9ybWFscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogW107CiAgICAgICAgICB2YXIgZ2wgPSBpYS53b3JsZC5nbDsgLy8gcG9zaXRpb25zCgogICAgICAgICAgdmFyIHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7CiAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpOwogICAgICAgICAgdmFyIHBvc2l0aW9ucyA9IHBvczsKICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9ucyksIGdsLlNUQVRJQ19EUkFXKTsgLy8gY29sb3JzCgogICAgICAgICAgdmFyIGNvbG9yc0J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwogICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGNvbG9yc0J1ZmZlcik7CiAgICAgICAgICB2YXIgY29sb3IgPSBjb2xvcnM7CiAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShjb2xvciksIGdsLlNUQVRJQ19EUkFXKTsgLy8gaW5kaWNlcwoKICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpOwogICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIpOwogICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGluZGV4KSwgZ2wuU1RBVElDX0RSQVcpOyAvLyBub3JtYWwKCiAgICAgICAgICB2YXIgbm9ybWFsQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7CiAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbm9ybWFsQnVmZmVyKTsKICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KG5vcm1hbHMpLCBnbC5TVEFUSUNfRFJBVyk7IC8vIOS/neWtmGJ1ZmZlciAgYXR0cmliCgogICAgICAgICAgaWEud29ybGQuYnVmZmVyLmF0dHJpYnV0ZS5wb3NpdGlvbnMgPSBwb3NpdGlvbnM7CiAgICAgICAgICBpYS53b3JsZC5idWZmZXIuYXR0cmlidXRlLm5vcm1hbHMgPSBub3JtYWxzOwogICAgICAgICAgaWEud29ybGQuYnVmZmVyLmF0dHJpYnV0ZS5jb2xvcnMgPSBjb2xvcnM7CiAgICAgICAgICBpYS53b3JsZC5idWZmZXIuYXR0cmlidXRlLmluZGljZXMgPSBpbmRleDsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbkJ1ZmZlciwKICAgICAgICAgICAgbm9ybWFsOiBub3JtYWxCdWZmZXIsCiAgICAgICAgICAgIGNvbG9yOiBjb2xvcnNCdWZmZXIsCiAgICAgICAgICAgIGluZGljZXM6IGluZGV4QnVmZmVyCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOi/memHjOaPkOS+m+acgOWfuuacrOeahG12TWF0IO+8jHBNYXTlkowgdlBvcyDphY3nva4KICAgIGhlbGxvSWFXb3JsZDogZnVuY3Rpb24gaGVsbG9JYVdvcmxkKGJ1ZmZlcnMpIHsKICAgICAgdmFyIG5lZWRDbGVhciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgdmFyIGdsID0gaWEud29ybGQuZ2w7CiAgICAgIHZhciBwcm9ncmFtSW5mbyA9IGlhLndvcmxkLnByb2dyYW1JbmZvOwoKICAgICAgaWYgKG5lZWRDbGVhcikgewogICAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTsgLy8gcmdiYSDlgLwKCiAgICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApOyAvLyDmuIXpmaTmiYDmnInlm77lsYIKCiAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpOyAvLyDlvIDlkK/mt7HluqbmtYvor5UKCiAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7IC8vIOmBruaMoeaViOaenAogICAgICAgIC8vIOa4heeQhmNhbnZhcy4KCiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpOwogICAgICB9IC8vIHUgOnVuaWZvcm0gICBwTWF0OiDmipXlvbHnn6npmLUKCgogICAgICB2YXIgdXBNYXQgPSBpYS5leWVzLm1hdDQ7IC8vIHU6dW5pZm9ybSAgbXZNYXQgOiBtduefqemYtQoKICAgICAgdmFyIHVtdk1hdCA9IGlhLnZpZXcubWF0NDsKICAgICAgdmFyIHZBdHRyaWIgPSBpYS53b3JsZC52QXR0cmliOwogICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW1JbmZvLnByb2dyYW0pOyAvLyBTZXQgdGhlIHNoYWRlciB1bmlmb3JtcwoKICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwcm9ncmFtSW5mby51bmlmb3JtTG9jYXRpb25zLnByb2plY3Rpb25NYXRyaXgsIGZhbHNlLCB1cE1hdCk7CiAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbUluZm8udW5pZm9ybUxvY2F0aW9ucy5tb2RlbFZpZXdNYXRyaXgsIGZhbHNlLCB1bXZNYXQpOwogICAgICBpYS53b3JsZC5wcm9ncmFtID0gcHJvZ3JhbUluZm8ucHJvZ3JhbTsKICAgICAgewogICAgICAgIHZhciBfbnVtQ29tcG9uZW50cyA9IHZBdHRyaWIubnVtQ29tcG9uZW50czsKICAgICAgICB2YXIgX3R5cGUgPSBnbC5GTE9BVDsKICAgICAgICB2YXIgX25vcm1hbGl6ZSA9IHZBdHRyaWIubm9ybWFsaXplOwogICAgICAgIHZhciBfc3RyaWRlID0gdkF0dHJpYi5zdHJpZGU7CiAgICAgICAgdmFyIF9vZmZzZXQgPSB2QXR0cmliLm9mZnNldDsKICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVycy5wb3NpdGlvbik7CiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtSW5mby5hdHRyaWJMb2NhdGlvbnMudmVydGV4UG9zaXRpb24sIF9udW1Db21wb25lbnRzLCBfdHlwZSwgX25vcm1hbGl6ZSwgX3N0cmlkZSwgX29mZnNldCk7CiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocHJvZ3JhbUluZm8uYXR0cmliTG9jYXRpb25zLnZlcnRleFBvc2l0aW9uKTsKICAgICAgfQogICAgICB2YXIgZkF0dHJpYiA9IGlhLndvcmxkLmZBdHRyaWI7IC8vIOeJh+WFg+edgOiJsgogICAgICAvLyB0b2RvIGNvbG9ycyDlkowg57q555CG5Y+W55qEcmdiYSDmmK/kuIDmoLfnmoTlkJfvvJ8gIOi/memHjOaIkeaKiue6ueeQhuminOiJsiDlvZLlnKhjb2xvcnMg6YeM6Z2iICAyMDE5LjYuMTQgIC0tdGhpbmtpYQoKICAgICAgdmFyIG51bUNvbXBvbmVudHMgPSBmQXR0cmliLm51bUNvbXBvbmVudHM7CiAgICAgIHZhciB0eXBlID0gZ2wuRkxPQVQ7CiAgICAgIHZhciBub3JtYWxpemUgPSBmQXR0cmliLm5vcm1hbGl6ZTsKICAgICAgdmFyIHN0cmlkZSA9IGZBdHRyaWIuc3RyaWRlOwogICAgICB2YXIgb2Zmc2V0ID0gZkF0dHJpYi5vZmZzZXQ7CgogICAgICBzd2l0Y2ggKGlhLmNvbG9yZnVsLmN1clZGKSB7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgewogICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVycy5jb2xvcik7CiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocHJvZ3JhbUluZm8uYXR0cmliTG9jYXRpb25zLnZlcnRleENvbG9yLCBudW1Db21wb25lbnRzLCB0eXBlLCBub3JtYWxpemUsIHN0cmlkZSwgb2Zmc2V0KTsKICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocHJvZ3JhbUluZm8uYXR0cmliTG9jYXRpb25zLnZlcnRleENvbG9yKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIHsKICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcnMudGV4dHVyZUNvb3JkKTsKICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtSW5mby5hdHRyaWJMb2NhdGlvbnMudGV4dHVyZUNvb3JkLCBudW1Db21wb25lbnRzLCB0eXBlLCBub3JtYWxpemUsIHN0cmlkZSwgb2Zmc2V0KTsKICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocHJvZ3JhbUluZm8uYXR0cmliTG9jYXRpb25zLnRleHR1cmVDb29yZCk7CiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGJ1ZmZlcnMuaW5kaWNlcyk7CiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShwcm9ncmFtSW5mby51bmlmb3JtTG9jYXRpb25zLnVTYW1wbGVyLCAwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHsKICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcnMuY29sb3IpOwogICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHByb2dyYW1JbmZvLmF0dHJpYkxvY2F0aW9ucy52ZXJ0ZXhDb2xvciwgbnVtQ29tcG9uZW50cywgdHlwZSwgbm9ybWFsaXplLCBzdHJpZGUsIG9mZnNldCk7CiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHByb2dyYW1JbmZvLmF0dHJpYkxvY2F0aW9ucy52ZXJ0ZXhDb2xvcik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgY29uc29sZS5sb2coJ2RldmluZyAnKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZU1hdDQ6IGZ1bmN0aW9uIHVwZGF0ZU1hdDQoKSB7CiAgICAgIHZhciB1cGRhdGVFeWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTsKICAgICAgdmFyIHVwZGF0ZVZpZXcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHZhciBnbCA9IGlhLndvcmxkLmdsOwogICAgICB2YXIgcHJvZ3JhbUluZm8gPSBpYS53b3JsZC5wcm9ncmFtSW5mbzsgLy8gdSA6dW5pZm9ybSAgIHBNYXQ6IOaKleW9seefqemYtQoKICAgICAgdmFyIHVwTWF0ID0gaWEuZXllcy5tYXQ0OyAvLyB1OnVuaWZvcm0gIG12TWF0IDogbXbnn6npmLUKCiAgICAgIHZhciB1bXZNYXQgPSBpYS52aWV3Lm1hdDQ7CiAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbUluZm8ucHJvZ3JhbSk7CgogICAgICBpZiAodXBkYXRlRXllcykgewogICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbUluZm8udW5pZm9ybUxvY2F0aW9ucy5wcm9qZWN0aW9uTWF0cml4LCBmYWxzZSwgdXBNYXQpOwogICAgICB9CgogICAgICBpZiAodXBkYXRlVmlldykgewogICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocHJvZ3JhbUluZm8udW5pZm9ybUxvY2F0aW9ucy5tb2RlbFZpZXdNYXRyaXgsIGZhbHNlLCB1bXZNYXQpOwogICAgICB9CiAgICB9LAogICAgY2xlYXJDb2xvcjogZnVuY3Rpb24gY2xlYXJDb2xvcigpIHsKICAgICAgdmFyIGdsID0gaWEud29ybGQuZ2w7CiAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTsgLy8gcmdiYSDlgLwKCiAgICAgIGdsLmNsZWFyRGVwdGgoMS4wKTsgLy8g5riF6Zmk5omA5pyJ5Zu+5bGCCgogICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7IC8vIOW8gOWQr+a3seW6pua1i+ivlQoKICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7IC8vIOmBruaMoeaViOaenAogICAgICAvLyDmuIXnkIZjYW52YXMuCgogICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7CiAgICB9LAogICAgLy8g55S754K5ICAgbnVtIOS4gOiIrOS4ujLmiJbogIUzICAgdmVydGV4Q291bnQg5Li66KaB57uY5Yi255qE6aG254K55pWwCiAgICBkcmF3UG9pbnRzOiBmdW5jdGlvbiBkcmF3UG9pbnRzKCkgewogICAgICB2YXIgc2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTA7CiAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgICAgIHZhciBjb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICB2YXIgbnVtID0gaWEud29ybGQudkF0dHJpYi5udW1Db21wb25lbnRzOwogICAgICB2YXIgZ2wgPSBpYS53b3JsZC5nbDsKICAgICAgdmFyIHZDb3VudDsKICAgICAgY291bnQgPyB2Q291bnQgPSBjb3VudCA6IHZDb3VudCA9IGlhLndvcmxkLmJ1ZmZlci5hdHRyaWJ1dGUucG9zaXRpb25zLmxlbmd0aCAvIG51bSAtIG9mZnNldDsKCiAgICAgIGlmIChvZmZzZXQgKyB2Q291bnQgPiBpYS53b3JsZC5idWZmZXIuYXR0cmlidXRlLnBvc2l0aW9ucy5sZW5ndGggLyBudW0pIHsKICAgICAgICBjb25zb2xlLmxvZygnIG5vIHZlcnRpY2VzICcpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDpobbngrnmlbDph48KCgogICAgICB2YXIgdVBvaW50U2l6ZSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihpYS53b3JsZC5wcm9ncmFtLCAndVBvaW50U2l6ZScpOwogICAgICBnbC51bmlmb3JtMWYodVBvaW50U2l6ZSwgc2l6ZSk7CiAgICAgIGdsLmRyYXdBcnJheXMoZ2wuUE9JTlRTLCBvZmZzZXQsIHZDb3VudCk7CiAgICB9LAoKICAgIC8qKgogICAgICoKICAgICAqIEBwYXJhbSB3YXkKICAgICAqCiAgICAgKiAgMSAgLS0+IExJTkVTICDnu5jliLbnur/mrrUg5Lik5Liq5LiA57uECiAgICAgKiAgMiAgLS0+IExJTkVfU1RSSVAg57uY5Yi257q/5q61IOS+neasoei/nuaOpQogICAgICogIDMgIC0tPiBMSU5FX0xPT1Ag57uY5Yi257q/5q61IOS+neasoei/nuaOpSDpppblsL7nm7jov54KICAgICAqCiAgICAgKi8KICAgIGRyYXdMaW5lczogZnVuY3Rpb24gZHJhd0xpbmVzKCkgewogICAgICB2YXIgd2F5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwogICAgICB2YXIgdmVydGV4Q291bnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIG51bSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogaWEud29ybGQudkF0dHJpYi5udW1Db21wb25lbnRzOwogICAgICB2YXIgZ2wgPSBpYS53b3JsZC5nbDsKICAgICAgdmFyIHZDb3VudDsKICAgICAgdkNvdW50ID0gdmVydGV4Q291bnQgPyB2ZXJ0ZXhDb3VudCA6IGlhLndvcmxkLmJ1ZmZlci5hdHRyaWJ1dGUucG9zaXRpb25zLmxlbmd0aCAvIG51bTsKCiAgICAgIHN3aXRjaCAod2F5KSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgewogICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTLCBvZmZzZXQsIHZDb3VudCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB7CiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuTElORV9TVFJJUCwgb2Zmc2V0LCB2Q291bnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgewogICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVfTE9PUCwgb2Zmc2V0LCB2Q291bnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNvbnNvbGUubG9nKCcgZGV2aW5nICcpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICoKICAgICAqIEBwYXJhbSB3YXkKICAgICAqICAxIC0tPiBUUklBTkdMRVMgICAgICAgIOe7mOWItuS4ieinkuW9oiDkuInkuKrpobbngrnkuIDnu4QKICAgICAqICAyIC0tPiBUUklBTkdMRV9TVFJJUCAgIOe7mOWItuS4ieinkuW9oiDkvp3mrKHnu4TmiJDkuInop5LlvaIKICAgICAqICAzIC0tPiBUUklBTkdMRV9GQU4gICAgIOS7peesrOS4gOS4qumhtueCueS4uuS4reW/g+eCue+8jOWFtuS7lumhtueCueS9nOS4uui+uee8mOeCueS+neasoee7mOWItgogICAgICoKICAgICAqIEBwYXJhbSBudW0KICAgICAqCiAgICAgKiBAcGFyYW0gb2Zmc2V0CiAgICAgKgogICAgICogQHBhcmFtIHZlcnRleENvdW50CiAgICAgKgogICAgICovCiAgICBkcmF3VHJpYW5nbGU6IGZ1bmN0aW9uIGRyYXdUcmlhbmdsZSgpIHsKICAgICAgdmFyIHdheSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMjsKICAgICAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKICAgICAgdmFyIHZlcnRleENvdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBudW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGlhLndvcmxkLnZBdHRyaWIubnVtQ29tcG9uZW50czsKICAgICAgdmFyIGdsID0gaWEud29ybGQuZ2w7CiAgICAgIHZhciB2Q291bnQ7CiAgICAgIHZDb3VudCA9IHZlcnRleENvdW50ID8gdmVydGV4Q291bnQgOiBpYS53b3JsZC5idWZmZXIuYXR0cmlidXRlLnBvc2l0aW9ucy5sZW5ndGggLyBudW07CgogICAgICBzd2l0Y2ggKHdheSkgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIHsKICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIG9mZnNldCwgdkNvdW50KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHsKICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgb2Zmc2V0LCB2Q291bnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgewogICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX0ZBTiwgb2Zmc2V0LCB2Q291bnQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGNvbnNvbGUubG9nKCcgZGV2aW5nICcpOwogICAgICB9CiAgICB9LAogICAgZHJhd1RleHR1cmU6IGZ1bmN0aW9uIGRyYXdUZXh0dXJlKCkgewogICAgICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwogICAgICB2YXIgY291bnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGlhLndvcmxkLmJ1ZmZlci5hdHRyaWJ1dGUuaW5kaWNlcy5sZW5ndGg7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBpYS53b3JsZC5nbC5VTlNJR05FRF9TSE9SVDsKICAgICAgdmFyIG1vZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGlhLndvcmxkLmdsLlRSSUFOR0xFUzsKICAgICAgdmFyIGdsID0gaWEud29ybGQuZ2w7CiAgICAgIGdsLmRyYXdFbGVtZW50cyhtb2RlLCBjb3VudCwgdHlwZSwgb2Zmc2V0KTsKICAgIH0KICB9OyAvLyBpYSdzIHNvdWwgIOWKqOeUu+W3peWFtwoKICBpYS5zb3VsID0gewogICAgLy8gdHdlZW4KICAgIHRpbWU6IHsKICAgICAgb3JpVGltZXI6IDAsCiAgICAgIG9yaVN0YXJ0OiAnJywKICAgICAgb3JpRW5kOiAnJywKICAgICAgZ286IGZ1bmN0aW9uIGdvKHN0YXJ0LCBlbmQpIHsKICAgICAgICB2YXIgdGltZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEyMDsKICAgICAgICB2YXIgd2F5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAxOwoKICAgICAgICBzd2l0Y2ggKHdheSkgewogICAgICAgICAgLy8gbGluZQogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaWYgKGlhLnNvdWwudGltZS5vcmlUaW1lciA+IHRpbWVyKSByZXR1cm47CgogICAgICAgICAgICAgIGlmIChpYS5zb3VsLnRpbWUub3JpVGltZXIgPCAxKSB7CiAgICAgICAgICAgICAgICBpYS5zb3VsLnRpbWUub3JpU3RhcnQgPSBzdGFydDsKICAgICAgICAgICAgICAgIGlhLnNvdWwudGltZS5vcmlFbmQgPSBlbmQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB2YXIgc3RhcnRCZXRhID0gaWEuc291bC50aW1lLm9yaVN0YXJ0OwogICAgICAgICAgICAgICAgdmFyIGVuZEJldGEgPSBpYS5zb3VsLnRpbWUub3JpRW5kOwogICAgICAgICAgICAgICAgc3RhcnRbaV0gPSBzdGFydEJldGFbaV0gKyBpYS5zb3VsLnRpbWUub3JpVGltZXIgKiAoZW5kQmV0YVtpXSAtIHN0YXJ0QmV0YVtpXSkgLyB0aW1lcjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlhLnNvdWwudGltZS5vcmlUaW1lcisrOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgY29uc29sZS5sb2coJyBkZXYgICBpbmcgICcpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVUaW1lOiBmdW5jdGlvbiByZVRpbWUoKSB7CiAgICAgICAgaWEuc291bC5vcmlUaW1lciA9IDA7CiAgICAgIH0KICAgIH0KICB9OyAvLyB0aGlua01hdGggICBodHRwOi8vd3d3LnNvbmdoby5jYS9vcGVuZ2wvZ2xfbWF0cml4Lmh0bWwgICAgIOW4uOeUqOeahOaVsOWtpuexu+W6kwoKICBpYS50aGlua01hdGggPSB7CiAgICBtYXQ0OiB7CiAgICAgIC8vIHRyYW5zbGF0aW9uCiAgICAgIGp1bXA6IGZ1bmN0aW9uIGp1bXAobWF0NCwgdmVjKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgICAgIG1hdDRbMTIgKyBpXSA9IG1hdDRbaV0gKiB2ZWNbMF0gKyBtYXQ0W2kgKyA0XSAqIHZlY1sxXSArIG1hdDRbaSArIDhdICogdmVjWzJdICsgbWF0NFtpICsgMTJdOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcm90YXRlOiBmdW5jdGlvbiByb3RhdGUobWF0NCwgdmVjLCByYWQpIHsKICAgICAgICB2YXIgbmVlZE5vciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTsKICAgICAgICB2YXIgbm9ybWFWZWMzID0gdmVjOyAvLyB2ZWMgaXMgbm9ybWFsaXplZD8KICAgICAgICAvLyAg5aaC5p6c5Lyg55qE5piv5Y2V5L2N5ZCR6YePICBuZWVkTm9yIOWPr+S7peiuvue9ruS4umZhbHNlOyAgIOWcqOS4gOS6m+WPjeWkjeiuoeeul+S4reWPr+S7peWHj+Wwkeiuoeeul+mHjyDkvJjljJbnqIvluo87CgogICAgICAgIGlmIChuZWVkTm9yKSB7CiAgICAgICAgICB2YXIgbGVuZ3RoID0gTWF0aC5zcXJ0KHZlY1swXSAqIHZlY1swXSArIHZlY1sxXSAqIHZlY1sxXSArIHZlY1syXSAqIHZlY1syXSk7CiAgICAgICAgICBpZiAobGVuZ3RoIDwgMC4wMDAwMDEpIHJldHVybiBudWxsOwogICAgICAgICAgbm9ybWFWZWMzWzBdID0gdmVjWzBdIC8gbGVuZ3RoOwogICAgICAgICAgbm9ybWFWZWMzWzFdID0gdmVjWzFdIC8gbGVuZ3RoOwogICAgICAgICAgbm9ybWFWZWMzWzJdID0gdmVjWzJdIC8gbGVuZ3RoOwogICAgICAgIH0gLy8gcm90YXRlCgoKICAgICAgICB2YXIgcyA9IE1hdGguc2luKHJhZCk7CiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOwogICAgICAgIHZhciB0ID0gMSAtIGM7CiAgICAgICAgdmFyIGEwMCA9IG1hdDRbMF0sCiAgICAgICAgICAgIGEwMSA9IG1hdDRbMV0sCiAgICAgICAgICAgIGEwMiA9IG1hdDRbMl0sCiAgICAgICAgICAgIGEwMyA9IG1hdDRbM10sCiAgICAgICAgICAgIGExMCA9IG1hdDRbNF0sCiAgICAgICAgICAgIGExMSA9IG1hdDRbNV0sCiAgICAgICAgICAgIGExMiA9IG1hdDRbNl0sCiAgICAgICAgICAgIGExMyA9IG1hdDRbN10sCiAgICAgICAgICAgIGEyMCA9IG1hdDRbOF0sCiAgICAgICAgICAgIGEyMSA9IG1hdDRbOV0sCiAgICAgICAgICAgIGEyMiA9IG1hdDRbMTBdLAogICAgICAgICAgICBhMjMgPSBtYXQ0WzExXTsKICAgICAgICB2YXIgYjAwID0gbm9ybWFWZWMzWzBdICogbm9ybWFWZWMzWzBdICogdCArIGMsCiAgICAgICAgICAgIGIwMSA9IG5vcm1hVmVjM1sxXSAqIG5vcm1hVmVjM1swXSAqIHQgKyBub3JtYVZlYzNbMl0gKiBzLAogICAgICAgICAgICBiMDIgPSBub3JtYVZlYzNbMl0gKiBub3JtYVZlYzNbMF0gKiB0IC0gbm9ybWFWZWMzWzFdICogcywKICAgICAgICAgICAgYjEwID0gbm9ybWFWZWMzWzBdICogbm9ybWFWZWMzWzFdICogdCAtIG5vcm1hVmVjM1syXSAqIHMsCiAgICAgICAgICAgIGIxMSA9IG5vcm1hVmVjM1sxXSAqIG5vcm1hVmVjM1sxXSAqIHQgKyBjLAogICAgICAgICAgICBiMTIgPSBub3JtYVZlYzNbMl0gKiBub3JtYVZlYzNbMV0gKiB0ICsgbm9ybWFWZWMzWzBdICogcywKICAgICAgICAgICAgYjIwID0gbm9ybWFWZWMzWzBdICogbm9ybWFWZWMzWzJdICogdCArIG5vcm1hVmVjM1sxXSAqIHMsCiAgICAgICAgICAgIGIyMSA9IG5vcm1hVmVjM1sxXSAqIG5vcm1hVmVjM1syXSAqIHQgLSBub3JtYVZlYzNbMF0gKiBzLAogICAgICAgICAgICBiMjIgPSBub3JtYVZlYzNbMl0gKiBub3JtYVZlYzNbMl0gKiB0ICsgYzsKICAgICAgICBtYXQ0WzBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyOwogICAgICAgIG1hdDRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7CiAgICAgICAgbWF0NFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjsKICAgICAgICBtYXQ0WzNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyOwogICAgICAgIG1hdDRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7CiAgICAgICAgbWF0NFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMjsKICAgICAgICBtYXQ0WzZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyOwogICAgICAgIG1hdDRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7CiAgICAgICAgbWF0NFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMjsKICAgICAgICBtYXQ0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyOwogICAgICAgIG1hdDRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyOwogICAgICAgIG1hdDRbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyOwogICAgICB9LAogICAgICBtdWx0aXBseTogZnVuY3Rpb24gbXVsdGlwbHkobE1hdDQsIHJNYXQ0KSB7CiAgICAgICAgdmFyIGExMSA9IGxNYXQ0WzBdLAogICAgICAgICAgICBhMTIgPSBsTWF0NFs0XSwKICAgICAgICAgICAgYTEzID0gbE1hdDRbOF0sCiAgICAgICAgICAgIGExNCA9IGxNYXQ0WzEyXTsKICAgICAgICB2YXIgYTIxID0gbE1hdDRbMV0sCiAgICAgICAgICAgIGEyMiA9IGxNYXQ0WzVdLAogICAgICAgICAgICBhMjMgPSBsTWF0NFs5XSwKICAgICAgICAgICAgYTI0ID0gbE1hdDRbMTNdOwogICAgICAgIHZhciBhMzEgPSBsTWF0NFsyXSwKICAgICAgICAgICAgYTMyID0gbE1hdDRbNl0sCiAgICAgICAgICAgIGEzMyA9IGxNYXQ0WzEwXSwKICAgICAgICAgICAgYTM0ID0gbE1hdDRbMTRdOwogICAgICAgIHZhciBhNDEgPSBsTWF0NFszXSwKICAgICAgICAgICAgYTQyID0gbE1hdDRbN10sCiAgICAgICAgICAgIGE0MyA9IGxNYXQ0WzExXSwKICAgICAgICAgICAgYTQ0ID0gbE1hdDRbMTVdOwogICAgICAgIHZhciBiMTEgPSByTWF0NFswXSwKICAgICAgICAgICAgYjEyID0gck1hdDRbNF0sCiAgICAgICAgICAgIGIxMyA9IHJNYXQ0WzhdLAogICAgICAgICAgICBiMTQgPSByTWF0NFsxMl07CiAgICAgICAgdmFyIGIyMSA9IHJNYXQ0WzFdLAogICAgICAgICAgICBiMjIgPSByTWF0NFs1XSwKICAgICAgICAgICAgYjIzID0gck1hdDRbOV0sCiAgICAgICAgICAgIGIyNCA9IHJNYXQ0WzEzXTsKICAgICAgICB2YXIgYjMxID0gck1hdDRbMl0sCiAgICAgICAgICAgIGIzMiA9IHJNYXQ0WzZdLAogICAgICAgICAgICBiMzMgPSByTWF0NFsxMF0sCiAgICAgICAgICAgIGIzNCA9IHJNYXQ0WzE0XTsKICAgICAgICB2YXIgYjQxID0gck1hdDRbM10sCiAgICAgICAgICAgIGI0MiA9IHJNYXQ0WzddLAogICAgICAgICAgICBiNDMgPSByTWF0NFsxMV0sCiAgICAgICAgICAgIGI0NCA9IHJNYXQ0WzE1XTsKICAgICAgICBsTWF0NFswXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMSArIGExNCAqIGI0MTsKICAgICAgICBsTWF0NFs0XSA9IGExMSAqIGIxMiArIGExMiAqIGIyMiArIGExMyAqIGIzMiArIGExNCAqIGI0MjsKICAgICAgICBsTWF0NFs4XSA9IGExMSAqIGIxMyArIGExMiAqIGIyMyArIGExMyAqIGIzMyArIGExNCAqIGI0MzsKICAgICAgICBsTWF0NFsxMl0gPSBhMTEgKiBiMTQgKyBhMTIgKiBiMjQgKyBhMTMgKiBiMzQgKyBhMTQgKiBiNDQ7CiAgICAgICAgbE1hdDRbMV0gPSBhMjEgKiBiMTEgKyBhMjIgKiBiMjEgKyBhMjMgKiBiMzEgKyBhMjQgKiBiNDE7CiAgICAgICAgbE1hdDRbNV0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzIgKyBhMjQgKiBiNDI7CiAgICAgICAgbE1hdDRbOV0gPSBhMjEgKiBiMTMgKyBhMjIgKiBiMjMgKyBhMjMgKiBiMzMgKyBhMjQgKiBiNDM7CiAgICAgICAgbE1hdDRbMTNdID0gYTIxICogYjE0ICsgYTIyICogYjI0ICsgYTIzICogYjM0ICsgYTI0ICogYjQ0OwogICAgICAgIGxNYXQ0WzJdID0gYTMxICogYjExICsgYTMyICogYjIxICsgYTMzICogYjMxICsgYTM0ICogYjQxOwogICAgICAgIGxNYXQ0WzZdID0gYTMxICogYjEyICsgYTMyICogYjIyICsgYTMzICogYjMyICsgYTM0ICogYjQyOwogICAgICAgIGxNYXQ0WzEwXSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMyArIGEzNCAqIGI0MzsKICAgICAgICBsTWF0NFsxNF0gPSBhMzEgKiBiMTQgKyBhMzIgKiBiMjQgKyBhMzMgKiBiMzQgKyBhMzQgKiBiNDQ7CiAgICAgICAgbE1hdDRbM10gPSBhNDEgKiBiMTEgKyBhNDIgKiBiMjEgKyBhNDMgKiBiMzEgKyBhNDQgKiBiNDE7CiAgICAgICAgbE1hdDRbN10gPSBhNDEgKiBiMTIgKyBhNDIgKiBiMjIgKyBhNDMgKiBiMzIgKyBhNDQgKiBiNDI7CiAgICAgICAgbE1hdDRbMTFdID0gYTQxICogYjEzICsgYTQyICogYjIzICsgYTQzICogYjMzICsgYTQ0ICogYjQzOwogICAgICAgIGxNYXQ0WzE1XSA9IGE0MSAqIGIxNCArIGE0MiAqIGIyNCArIGE0MyAqIGIzNCArIGE0NCAqIGI0NDsKICAgICAgICByZXR1cm4gbE1hdDQ7CiAgICAgIH0sCiAgICAgIGdldEludmVyc2U6IGZ1bmN0aW9uIGdldEludmVyc2UobWF0NCkgewogICAgICAgIC8vIGJhc2VkIG9uIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvbWF0cml4L2Z1bmN0aW9ucy9pbnZlcnNlL2ZvdXJEL2luZGV4Lmh0bQogICAgICAgIHZhciB0ZSA9IFsxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxXSwKICAgICAgICAgICAgbWUgPSBtYXQ0LAogICAgICAgICAgICBuMTEgPSBtZVswXSwKICAgICAgICAgICAgbjIxID0gbWVbMV0sCiAgICAgICAgICAgIG4zMSA9IG1lWzJdLAogICAgICAgICAgICBuNDEgPSBtZVszXSwKICAgICAgICAgICAgbjEyID0gbWVbNF0sCiAgICAgICAgICAgIG4yMiA9IG1lWzVdLAogICAgICAgICAgICBuMzIgPSBtZVs2XSwKICAgICAgICAgICAgbjQyID0gbWVbN10sCiAgICAgICAgICAgIG4xMyA9IG1lWzhdLAogICAgICAgICAgICBuMjMgPSBtZVs5XSwKICAgICAgICAgICAgbjMzID0gbWVbMTBdLAogICAgICAgICAgICBuNDMgPSBtZVsxMV0sCiAgICAgICAgICAgIG4xNCA9IG1lWzEyXSwKICAgICAgICAgICAgbjI0ID0gbWVbMTNdLAogICAgICAgICAgICBuMzQgPSBtZVsxNF0sCiAgICAgICAgICAgIG40NCA9IG1lWzE1XSwKICAgICAgICAgICAgdDExID0gbjIzICogbjM0ICogbjQyIC0gbjI0ICogbjMzICogbjQyICsgbjI0ICogbjMyICogbjQzIC0gbjIyICogbjM0ICogbjQzIC0gbjIzICogbjMyICogbjQ0ICsgbjIyICogbjMzICogbjQ0LAogICAgICAgICAgICB0MTIgPSBuMTQgKiBuMzMgKiBuNDIgLSBuMTMgKiBuMzQgKiBuNDIgLSBuMTQgKiBuMzIgKiBuNDMgKyBuMTIgKiBuMzQgKiBuNDMgKyBuMTMgKiBuMzIgKiBuNDQgLSBuMTIgKiBuMzMgKiBuNDQsCiAgICAgICAgICAgIHQxMyA9IG4xMyAqIG4yNCAqIG40MiAtIG4xNCAqIG4yMyAqIG40MiArIG4xNCAqIG4yMiAqIG40MyAtIG4xMiAqIG4yNCAqIG40MyAtIG4xMyAqIG4yMiAqIG40NCArIG4xMiAqIG4yMyAqIG40NCwKICAgICAgICAgICAgdDE0ID0gbjE0ICogbjIzICogbjMyIC0gbjEzICogbjI0ICogbjMyIC0gbjE0ICogbjIyICogbjMzICsgbjEyICogbjI0ICogbjMzICsgbjEzICogbjIyICogbjM0IC0gbjEyICogbjIzICogbjM0OwogICAgICAgIHZhciBkZXQgPSBuMTEgKiB0MTEgKyBuMjEgKiB0MTIgKyBuMzEgKiB0MTMgKyBuNDEgKiB0MTQ7CgogICAgICAgIGlmIChkZXQgPT09IDApIHsKICAgICAgICAgIHJldHVybiB0ZTsKICAgICAgICB9CgogICAgICAgIHZhciBkZXRJbnYgPSAxIC8gZGV0OwogICAgICAgIHRlWzBdID0gdDExICogZGV0SW52OwogICAgICAgIHRlWzFdID0gKG4yNCAqIG4zMyAqIG40MSAtIG4yMyAqIG4zNCAqIG40MSAtIG4yNCAqIG4zMSAqIG40MyArIG4yMSAqIG4zNCAqIG40MyArIG4yMyAqIG4zMSAqIG40NCAtIG4yMSAqIG4zMyAqIG40NCkgKiBkZXRJbnY7CiAgICAgICAgdGVbMl0gPSAobjIyICogbjM0ICogbjQxIC0gbjI0ICogbjMyICogbjQxICsgbjI0ICogbjMxICogbjQyIC0gbjIxICogbjM0ICogbjQyIC0gbjIyICogbjMxICogbjQ0ICsgbjIxICogbjMyICogbjQ0KSAqIGRldEludjsKICAgICAgICB0ZVszXSA9IChuMjMgKiBuMzIgKiBuNDEgLSBuMjIgKiBuMzMgKiBuNDEgLSBuMjMgKiBuMzEgKiBuNDIgKyBuMjEgKiBuMzMgKiBuNDIgKyBuMjIgKiBuMzEgKiBuNDMgLSBuMjEgKiBuMzIgKiBuNDMpICogZGV0SW52OwogICAgICAgIHRlWzRdID0gdDEyICogZGV0SW52OwogICAgICAgIHRlWzVdID0gKG4xMyAqIG4zNCAqIG40MSAtIG4xNCAqIG4zMyAqIG40MSArIG4xNCAqIG4zMSAqIG40MyAtIG4xMSAqIG4zNCAqIG40MyAtIG4xMyAqIG4zMSAqIG40NCArIG4xMSAqIG4zMyAqIG40NCkgKiBkZXRJbnY7CiAgICAgICAgdGVbNl0gPSAobjE0ICogbjMyICogbjQxIC0gbjEyICogbjM0ICogbjQxIC0gbjE0ICogbjMxICogbjQyICsgbjExICogbjM0ICogbjQyICsgbjEyICogbjMxICogbjQ0IC0gbjExICogbjMyICogbjQ0KSAqIGRldEludjsKICAgICAgICB0ZVs3XSA9IChuMTIgKiBuMzMgKiBuNDEgLSBuMTMgKiBuMzIgKiBuNDEgKyBuMTMgKiBuMzEgKiBuNDIgLSBuMTEgKiBuMzMgKiBuNDIgLSBuMTIgKiBuMzEgKiBuNDMgKyBuMTEgKiBuMzIgKiBuNDMpICogZGV0SW52OwogICAgICAgIHRlWzhdID0gdDEzICogZGV0SW52OwogICAgICAgIHRlWzldID0gKG4xNCAqIG4yMyAqIG40MSAtIG4xMyAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMSAqIG40MyArIG4xMSAqIG4yNCAqIG40MyArIG4xMyAqIG4yMSAqIG40NCAtIG4xMSAqIG4yMyAqIG40NCkgKiBkZXRJbnY7CiAgICAgICAgdGVbMTBdID0gKG4xMiAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMiAqIG40MSArIG4xNCAqIG4yMSAqIG40MiAtIG4xMSAqIG4yNCAqIG40MiAtIG4xMiAqIG4yMSAqIG40NCArIG4xMSAqIG4yMiAqIG40NCkgKiBkZXRJbnY7CiAgICAgICAgdGVbMTFdID0gKG4xMyAqIG4yMiAqIG40MSAtIG4xMiAqIG4yMyAqIG40MSAtIG4xMyAqIG4yMSAqIG40MiArIG4xMSAqIG4yMyAqIG40MiArIG4xMiAqIG4yMSAqIG40MyAtIG4xMSAqIG4yMiAqIG40MykgKiBkZXRJbnY7CiAgICAgICAgdGVbMTJdID0gdDE0ICogZGV0SW52OwogICAgICAgIHRlWzEzXSA9IChuMTMgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjMgKiBuMzEgKyBuMTQgKiBuMjEgKiBuMzMgLSBuMTEgKiBuMjQgKiBuMzMgLSBuMTMgKiBuMjEgKiBuMzQgKyBuMTEgKiBuMjMgKiBuMzQpICogZGV0SW52OwogICAgICAgIHRlWzE0XSA9IChuMTQgKiBuMjIgKiBuMzEgLSBuMTIgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjEgKiBuMzIgKyBuMTEgKiBuMjQgKiBuMzIgKyBuMTIgKiBuMjEgKiBuMzQgLSBuMTEgKiBuMjIgKiBuMzQpICogZGV0SW52OwogICAgICAgIHRlWzE1XSA9IChuMTIgKiBuMjMgKiBuMzEgLSBuMTMgKiBuMjIgKiBuMzEgKyBuMTMgKiBuMjEgKiBuMzIgLSBuMTEgKiBuMjMgKiBuMzIgLSBuMTIgKiBuMjEgKiBuMzMgKyBuMTEgKiBuMjIgKiBuMzMpICogZGV0SW52OwogICAgICAgIHJldHVybiB0ZTsKICAgICAgfSwKICAgICAgLy8g5b6F6aqM6K+BCiAgICAgIGxvb2tBdDogZnVuY3Rpb24gbG9va0F0KG1hdDQsIGV5ZSwgdGFyZ2V0LCB1cCkgewogICAgICAgIHZhciB0ZSA9IG1hdDQ7CiAgICAgICAgdmFyIHogPSBbZXllWzBdIC0gdGFyZ2V0WzBdLCBleWVbMV0gLSB0YXJnZXRbMV0sIGV5ZVsyXSAtIHRhcmdldFsyXV07IC8vIGV5ZSDkuI4gdGFyZ2V0IOWcqOWQjOS4gOWdkOaghwoKICAgICAgICBpZiAoelswXSA9PT0gMCAmJiB6WzFdID09PSAwICYmIHpbMl0gPT09IDApIHsKICAgICAgICAgIHpbMl0gPSAxOwogICAgICAgIH0KCiAgICAgICAgdmFyIHggPSBbdXBbMF0gLSB6WzBdLCB1cFsxXSAtIHpbMV0sIHVwWzJdIC0gelsyXV07CgogICAgICAgIGlmICh4WzBdID09PSAwICYmIHhbMV0gPT09IDAgJiYgeFsyXSA9PT0gMCkgewogICAgICAgICAgLy8gdXAgYW5kIHogYXJlIHBhcmFsbGVsCiAgICAgICAgICBpZiAoTWF0aC5hYnModXBbMl0pID09PSAxKSB7CiAgICAgICAgICAgIHpbMF0gKz0gMC4wMDAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgelsyXSArPSAwLjAwMDE7CiAgICAgICAgICB9CgogICAgICAgICAgei5ub3JtYWxpemUoKTsKICAgICAgICAgIHggPSBbdXBbMF0gLSB6WzBdLCB1cFsxXSAtIHpbMV0sIHVwWzJdIC0gelsyXV07CiAgICAgICAgfQoKICAgICAgICB4Lm5vcm1hbGl6ZSgpOwogICAgICAgIHZhciB5ID0gW3pbMF0gLSB4WzBdLCB6WzFdIC0geFsxXSwgelsyXSAtIHhbMl1dOwogICAgICAgIHRlWzBdID0geFswXTsKICAgICAgICB0ZVs0XSA9IHlbMF07CiAgICAgICAgdGVbOF0gPSB6WzBdOwogICAgICAgIHRlWzFdID0geFsxXTsKICAgICAgICB0ZVs1XSA9IHlbMV07CiAgICAgICAgdGVbOV0gPSB6WzFdOwogICAgICAgIHRlWzJdID0geFsyXTsKICAgICAgICB0ZVs2XSA9IHlbMl07CiAgICAgICAgdGVbMTBdID0gelsyXTsKICAgICAgfQogICAgfSwKICAgIGV1bGVyOiB7CiAgICAgIHRvTWF0NDogZnVuY3Rpb24gdG9NYXQ0KGV1bGVyKSB7CiAgICAgICAgdmFyIG1hdDQgPSBbMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMV07CiAgICAgICAgdmFyIHggPSBldWxlci5jZWxsWzBdLAogICAgICAgICAgICB5ID0gZXVsZXIuY2VsbFsxXSwKICAgICAgICAgICAgeiA9IGV1bGVyLmNlbGxbMl07CiAgICAgICAgdmFyIGEgPSBNYXRoLmNvcyh4KSwKICAgICAgICAgICAgYiA9IE1hdGguc2luKHgpOwogICAgICAgIHZhciBjID0gTWF0aC5jb3MoeSksCiAgICAgICAgICAgIGQgPSBNYXRoLnNpbih5KTsKICAgICAgICB2YXIgZSA9IE1hdGguY29zKHopLAogICAgICAgICAgICBmID0gTWF0aC5zaW4oeik7CgogICAgICAgIGlmIChldWxlci5vcmRlciA9PT0gJ1pZWCcpIHsKICAgICAgICAgIHZhciBhZSA9IGEgKiBlLAogICAgICAgICAgICAgIGFmID0gYSAqIGYsCiAgICAgICAgICAgICAgYmUgPSBiICogZSwKICAgICAgICAgICAgICBiZiA9IGIgKiBmOwogICAgICAgICAgbWF0NFswXSA9IGMgKiBlOwogICAgICAgICAgbWF0NFs0XSA9IGJlICogZCAtIGFmOwogICAgICAgICAgbWF0NFs4XSA9IGFlICogZCArIGJmOwogICAgICAgICAgbWF0NFsxXSA9IGMgKiBmOwogICAgICAgICAgbWF0NFs1XSA9IGJmICogZCArIGFlOwogICAgICAgICAgbWF0NFs5XSA9IGFmICogZCAtIGJlOwogICAgICAgICAgbWF0NFsyXSA9IC1kOwogICAgICAgICAgbWF0NFs2XSA9IGIgKiBjOwogICAgICAgICAgbWF0NFsxMF0gPSBhICogYzsKICAgICAgICB9CgogICAgICAgIHJldHVybiBtYXQ0OwogICAgICB9CiAgICB9LAogICAgdmVjMzogewogICAgICAvLyDkuInop5LlvaLpnaLnp68KICAgICAgdHJpYW5nbGVBcmVhOiBmdW5jdGlvbiB0cmlhbmdsZUFyZWEocG9pbnRBLCBwb2ludEIsIHBvaW50QykgewogICAgICAgIHZhciBhcmVhID0gMDsKICAgICAgICB2YXIgc2lkZSA9IFtdOwogICAgICAgIHNpZGVbMF0gPSBNYXRoLnNxcnQoTWF0aC5wb3cocG9pbnRBWzBdIC0gcG9pbnRCWzBdLCAyKSArIE1hdGgucG93KHBvaW50QVsxXSAtIHBvaW50QlsxXSwgMikgKyBNYXRoLnBvdyhwb2ludEFbMl0gLSBwb2ludEJbMl0sIDIpKTsKICAgICAgICBzaWRlWzFdID0gTWF0aC5zcXJ0KE1hdGgucG93KHBvaW50QlswXSAtIHBvaW50Q1swXSwgMikgKyBNYXRoLnBvdyhwb2ludEJbMV0gLSBwb2ludENbMV0sIDIpICsgTWF0aC5wb3cocG9pbnRCWzJdIC0gcG9pbnRDWzJdLCAyKSk7CiAgICAgICAgc2lkZVsyXSA9IE1hdGguc3FydChNYXRoLnBvdyhwb2ludENbMF0gLSBwb2ludEFbMF0sIDIpICsgTWF0aC5wb3cocG9pbnRDWzFdIC0gcG9pbnRBWzFdLCAyKSArIE1hdGgucG93KHBvaW50Q1syXSAtIHBvaW50QVsyXSwgMikpOyAvLyDkuI3og73mnoTmiJDkuInop5LlvaIKCiAgICAgICAgaWYgKHNpZGVbMF0gKyBzaWRlWzFdIDw9IHNpZGVbMl0gfHwgc2lkZVsxXSArIHNpZGVbMl0gPD0gc2lkZVswXSB8fCBzaWRlWzJdICsgc2lkZVswXSA8PSBzaWRlWzFdKSByZXR1cm4gYXJlYTsgLy8g5rW35Lym5YWs5byP77yaIHMgPXNxcihwKihwLWEpKHAtYikocC1jKSk7CgogICAgICAgIHZhciBwID0gKHNpZGVbMF0gKyBzaWRlWzFdICsgc2lkZVsyXSkgLyAyLjA7CiAgICAgICAgYXJlYSA9IE1hdGguc3FydChwICogKHAgLSBzaWRlWzBdKSAqIChwIC0gc2lkZVsxXSkgKiAocCAtIHNpZGVbMl0pKTsKICAgICAgICByZXR1cm4gYXJlYTsKICAgICAgfSwKICAgICAgLy8g5bmz6Z2i5pa556iLICAgQXgrQnkrQ3orRCA9MAogICAgICBwbGFuZUVxdWF0aW9uOiBmdW5jdGlvbiBwbGFuZUVxdWF0aW9uKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIHsKICAgICAgICB2YXIgUEUgPSB7CiAgICAgICAgICBBOiAxLAogICAgICAgICAgQjogMCwKICAgICAgICAgIEM6IDAsCiAgICAgICAgICBEOiAwCiAgICAgICAgfTsgLy8g5b6F5a6a57O75pWw5rOVCgogICAgICAgIFBFLkEgPSAocG9pbnRDWzFdIC0gcG9pbnRBWzFdKSAqIChwb2ludENbMl0gLSBwb2ludEFbMl0pIC0gKHBvaW50QlsyXSAtIHBvaW50QVsyXSkgKiAocG9pbnRDWzFdIC0gcG9pbnRBWzFdKTsKICAgICAgICBQRS5CID0gKHBvaW50Q1swXSAtIHBvaW50QVswXSkgKiAocG9pbnRCWzJdIC0gcG9pbnRBWzJdKSAtIChwb2ludEJbMF0gLSBwb2ludEFbMF0pICogKHBvaW50Q1syXSAtIHBvaW50QVsyXSk7CiAgICAgICAgUEUuQyA9IChwb2ludEJbMF0gLSBwb2ludEFbMF0pICogKHBvaW50Q1sxXSAtIHBvaW50QVsxXSkgLSAocG9pbnRDWzBdIC0gcG9pbnRBWzBdKSAqIChwb2ludEJbMV0gLSBwb2ludEFbMV0pOwogICAgICAgIFBFLkQgPSAtKFBFLkEgKiBwb2ludEFbMF0gKyBQRS5CICogcG9pbnRBWzFdICsgUEUuQyAqIHBvaW50QVsyXSk7CiAgICAgICAgcmV0dXJuIFBFOwogICAgICB9LAogICAgICAvLyDlt7Lnn6XkuInngrnmsYLms5XlkJHph48KICAgICAgcE5vcm1hbDogZnVuY3Rpb24gcE5vcm1hbChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CiAgICAgICAgdmFyIHZlYyA9IHsKICAgICAgICAgIHg6IDEsCiAgICAgICAgICB5OiAwLAogICAgICAgICAgejogMAogICAgICAgIH07CiAgICAgICAgdmFyIFBFID0gaWEudGhpbmtNYXRoLnZlYzMucGxhbmVFcXVhdGlvbihwb2ludEEsIHBvaW50QiwgcG9pbnRDKTsKICAgICAgICB2ZWMueCA9IFBFLkE7CiAgICAgICAgdmVjLnkgPSBQRS5COwogICAgICAgIHZlYy56ID0gUEUuQzsKICAgICAgICByZXR1cm4gdmVjOwogICAgICB9LAogICAgICAvLyBodHRwczovL2Jsb2cuY3Nkbi5uZXQvc21hbGxmbHlpbmdwaWcvYXJ0aWNsZS9kZXRhaWxzLzUxMjM0NzExCiAgICAgIC8vIOivpemTvuaOpeWGheWuuemcgOimgeS/ruatowoKICAgICAgLyoqCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSBwMSAgIOWwhOe6v+i1t+Wni+eCuQogICAgICAgKiBAcGFyYW0gcDIgICDlsITnur/nu4jngrkKICAgICAgICogQHBhcmFtIHBvaW50QSDkuInop5LpnaLniYcg6aG254K5QQogICAgICAgKiBAcGFyYW0gcG9pbnRCIOS4ieinkumdoueJhyDpobbngrlCCiAgICAgICAqIEBwYXJhbSBwb2ludEMg5LiJ6KeS6Z2i54mHIOmhtueCuUMKICAgICAgICogQHJldHVybnMge2Jvb2xlYW59CiAgICAgICAqCiAgICAgICAqLwogICAgICBpbnRlcnNlY3Rpb25MaW5lUGxhbmU6IGZ1bmN0aW9uIGludGVyc2VjdGlvbkxpbmVQbGFuZShwMSwgcDIsIHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIHsKICAgICAgICB2YXIgcG9pbnREID0gW107CiAgICAgICAgdmFyIHAxcDIgPSBbcDJbMF0gLSBwMVswXSwgcDJbMV0gLSBwMVsxXSwgcDJbMl0gLSBwMVsyXV07CiAgICAgICAgdmFyIFBFID0gaWEudGhpbmtNYXRoLnZlYzMucGxhbmVFcXVhdGlvbihwb2ludEEsIHBvaW50QiwgcG9pbnRDKTsKICAgICAgICB2YXIgbnVtID0gUEUuQSAqIHAxWzBdICsgUEUuQiAqIHAxWzFdICsgUEUuQyAqIHAxWzJdICsgUEUuRDsKICAgICAgICB2YXIgZGVuID0gUEUuQSAqIHAxcDJbMF0gKyBQRS5CICogcDFwMlsxXSArIFBFLkMgKiBwMXAyWzJdOyAvLyDlubPooYwgIOS4juazleWQkemHj+WeguebtAoKICAgICAgICBpZiAoTWF0aC5hYnMoZGVuKSA8IDFlLTUpIHJldHVybiBmYWxzZTsKICAgICAgICB2YXIgbiA9IC1udW0gLyBkZW47CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7CiAgICAgICAgICBwb2ludERbaV0gPSBwMVtpXSArIG4gKiBwMXAyW2ldOwogICAgICAgIH0gLy8gQUJDIOmdouenrwoKCiAgICAgICAgdmFyIHMwID0gaWEudGhpbmtNYXRoLnZlYzMudHJpYW5nbGVBcmVhKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpOyAvLyBEQUIg6Z2i56evCgogICAgICAgIHZhciBzMSA9IGlhLnRoaW5rTWF0aC52ZWMzLnRyaWFuZ2xlQXJlYShwb2ludEQsIHBvaW50QiwgcG9pbnRDKTsgLy8gREJDIOmdouenrwoKICAgICAgICB2YXIgczIgPSBpYS50aGlua01hdGgudmVjMy50cmlhbmdsZUFyZWEocG9pbnRBLCBwb2ludEQsIHBvaW50Qyk7IC8vIERDQSDpnaLnp68KCiAgICAgICAgdmFyIHMzID0gaWEudGhpbmtNYXRoLnZlYzMudHJpYW5nbGVBcmVhKHBvaW50QSwgcG9pbnRCLCBwb2ludEQpOwoKICAgICAgICBpZiAoTWF0aC5hYnMoczEgKyBzMiArIHMzIC0gczApIDwgMWUtNikgewogICAgICAgICAgY29uc29sZS5sb2coIlx1NUMwNFx1N0VCRlx1NEVBNFx1NzBCOVx1NTc1MFx1NjgwN1x1RkYxQSIuY29uY2F0KHBvaW50RCkpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgICAgLy8gIOaxguW+l+e7j+i/h+aXi+i9rOWPmOaNouWQjueahOS4iee7tOWdkOaghwogICAgICBhcHBseU1hdDQ6IGZ1bmN0aW9uIGFwcGx5TWF0NCh2ZWMsIG1hdDQpIHsKICAgICAgICB2YXIgdGVtVmVjID0gW3ZlY1swXSwgdmVjWzFdLCB2ZWNbMl1dOwogICAgICAgIHZhciB3ID0gMSAvIChtYXQ0WzNdICogdmVjWzBdICsgbWF0NFs3XSAqIHZlY1sxXSArIG1hdDRbMTFdICogdmVjWzJdICsgbWF0NFsxNV0pOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgICAgdmVjW2ldID0gKG1hdDRbaV0gKiB0ZW1WZWNbMF0gKyBtYXQ0WzQgKyBpXSAqIHRlbVZlY1sxXSArIG1hdDRbOCArIGldICogdGVtVmVjWzJdICsgbWF0NFsxMiArIGldKSAqIHc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdmVjOwogICAgICB9LAoKICAgICAgLyoqCiAgICAgICAqCiAgICAgICAqIEBwYXJhbSB2ZWMKICAgICAgICogQHBhcmFtIHZlYzIKICAgICAgICoKICAgICAgICog6L+U5Zue57uT5p6c5Li65Lik5ZCR6YeP5aS56KeSICDlvKfluqYKICAgICAgICovCiAgICAgIGFwcGx5VmVjMzogZnVuY3Rpb24gYXBwbHlWZWMzKHZlYywgdmVjMikgewogICAgICAgIHZhciB0ZW1WZWMgPSBbXSwKICAgICAgICAgICAgdGVtVmVjMiA9IFtdOwogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgdmFyIGNvc1RoZXRhOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgICAgdGVtVmVjW2ldID0gdmVjW2ldOwogICAgICAgICAgdGVtVmVjMltpXSA9IHZlYzJbaV07CiAgICAgICAgfQoKICAgICAgICB2YXIgdG9wID0gMDsKICAgICAgICB2YXIgYm90OwoKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgMzsgX2krKykgewogICAgICAgICAgdG9wICs9IHRlbVZlY1tfaV0gKiB0ZW1WZWMyW19pXTsKICAgICAgICB9CgogICAgICAgIGJvdCA9IE1hdGguc3FydCh0ZW1WZWNbMF0gKiB0ZW1WZWNbMF0gKyB0ZW1WZWNbMV0gKiB0ZW1WZWNbMV0gKyB0ZW1WZWNbMl0gKiB0ZW1WZWNbMl0pICogTWF0aC5zcXJ0KHRlbVZlYzJbMF0gKiB0ZW1WZWMyWzBdICsgdGVtVmVjMlsxXSAqIHRlbVZlYzJbMV0gKyB0ZW1WZWMyWzJdICogdGVtVmVjMlsyXSk7CiAgICAgICAgY29zVGhldGEgPSB0b3AgLyBib3Q7CiAgICAgICAgcmVzdWx0ID0gMTgwICogTWF0aC5hY29zKGNvc1RoZXRhKSAvIE1hdGguUEk7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgfQogIH07IC8vIGFjdGlvbgoKICBpYS5hY3Rpb24gPSB7CiAgICBleWVzOiB7CiAgICAgIC8vIOWFs+S6jumAj+inhuaKleW9seeahOeQhuino+WPr+S7peWPgumYheS4i+mdouS4pOS4qumTvuaOpQogICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODI4NjA1Ny90cnlpbmctdG8tdW5kZXJzdGFuZC10aGUtbWF0aC1iZWhpbmQtdGhlLXBlcnNwZWN0aXZlLW1hdHJpeC1pbi13ZWJnbC8yODMwMTIxMyMyODMwMTIxMwogICAgICAvLyBodHRwOi8vd3d3LnNvbmdoby5jYS9vcGVuZ2wvZ2xfcHJvamVjdGlvbm1hdHJpeC5odG1sCiAgICAgIG9wZW5FeWVzOiBmdW5jdGlvbiBvcGVuRXllcygpIHsKICAgICAgICB2YXIgZm92ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiA1MCAqIE1hdGguUEkgLyAxODA7CiAgICAgICAgdmFyIG5lYXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDAuMTsKICAgICAgICB2YXIgZmFyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxMDAwLjA7CiAgICAgICAgdmFyIGFzcGVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogd2luZG93LmlubmVySGVpZ2h0IC8gd2luZG93LmlubmVyV2lkdGg7CiAgICAgICAgaWYgKGlhLmV5ZXMuaXNPcGVuIHx8ICFmb3YgfHwgbmVhciA9PT0gZmFyKSByZXR1cm47CiAgICAgICAgdmFyIG1hdDQgPSBpYS5leWVzLm1hdDQ7CiAgICAgICAgbWF0NFswXSA9IGFzcGVjdCAvIE1hdGgudGFuKGZvdiAvIDIpOwogICAgICAgIG1hdDRbNV0gPSBtYXQ0WzBdIC8gYXNwZWN0OwogICAgICAgIG1hdDRbMTBdID0gKGZhciArIG5lYXIpIC8gKG5lYXIgLSBmYXIpOwogICAgICAgIG1hdDRbMTFdID0gLTE7CiAgICAgICAgbWF0NFsxNF0gPSAyICogZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTsKICAgICAgICBtYXQ0WzE1XSA9IDA7CiAgICAgICAgaWEuZXllcy5pc09wZW4gPSB0cnVlOwogICAgICB9LAogICAgICBibGluazogZnVuY3Rpb24gYmxpbmsoKSB7CiAgICAgICAgdmFyIGZvdiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogNTAgKiBNYXRoLlBJIC8gMTgwOwogICAgICAgIHZhciBuZWFyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwLjE7CiAgICAgICAgdmFyIGZhciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogMTAwMC4wOwogICAgICAgIHZhciBhc3BlY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHdpbmRvdy5pbm5lckhlaWdodCAvIHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgIGlhLmV5ZXMuaXNPcGVuID0gZmFsc2U7CiAgICAgICAgaWEuYWN0aW9uLmV5ZXMub3BlbkV5ZXMoZm92LCBuZWFyLCBmYXIsIGFzcGVjdCk7CiAgICAgIH0sCiAgICAgIHJvdGF0ZTogZnVuY3Rpb24gcm90YXRlKHZlYywgcmFkLCBuZWVkTm9yKSB7CiAgICAgICAgdmFyIG1hdDQgPSBpYS5leWVzLm1hdDQ7CiAgICAgICAgcmV0dXJuIGlhLnRoaW5rTWF0aC5tYXQ0LnJvdGF0ZShtYXQ0LCB2ZWMsIHJhZCwgbmVlZE5vcik7CiAgICAgIH0sCiAgICAgIGxvb2tBYm91dDogZnVuY3Rpb24gbG9va0Fib3V0KHJNYXQ0KSB7CiAgICAgICAgdmFyIGxNYXQ0ID0gaWEuZXllcy5tYXQ0OwogICAgICAgIHJldHVybiBpYS50aGlua01hdGgubWF0NC5tdWx0aXBseShsTWF0NCwgck1hdDQpOwogICAgICB9CiAgICB9LAogICAgdmlldzogewogICAgICBqdW1wOiBmdW5jdGlvbiBqdW1wKHZlYykgewogICAgICAgIHZhciBtYXQ0ID0gaWEudmlldy5tYXQ0OwogICAgICAgIHJldHVybiBpYS50aGlua01hdGgubWF0NC5qdW1wKG1hdDQsIHZlYyk7CiAgICAgIH0sCiAgICAgIHdhbGs6IGZ1bmN0aW9uIHdhbGsodmVjLCB0aW1lcikgewogICAgICAgIHZhciBmaW5hbE1hdDQgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpYS52aWV3Lm1hdDQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZpbmFsTWF0NFtpXSA9IGlhLnZpZXcubWF0NFtpXTsKICAgICAgICB9CgogICAgICAgIGlhLnRoaW5rTWF0aC5tYXQ0Lmp1bXAoZmluYWxNYXQ0LCB2ZWMpOwogICAgICAgIGlhLnNvdWwudGltZS5nbyhpYS52aWV3Lm1hdDQsIGZpbmFsTWF0NCwgdGltZXIpOwogICAgICB9LAogICAgICByb3RhdGU6IGZ1bmN0aW9uIHJvdGF0ZSh2ZWMsIHJhZCwgbmVlZE5vcikgewogICAgICAgIHZhciBtYXQ0ID0gaWEudmlldy5tYXQ0OwogICAgICAgIHJldHVybiBpYS50aGlua01hdGgubWF0NC5yb3RhdGUobWF0NCwgdmVjLCByYWQsIG5lZWROb3IpOwogICAgICB9LAogICAgICBsb29rQWJvdXQ6IGZ1bmN0aW9uIGxvb2tBYm91dChyTWF0NCkgewogICAgICAgIHZhciBsTWF0NCA9IGlhLnZpZXcubWF0NDsKICAgICAgICByZXR1cm4gaWEudGhpbmtNYXRoLm1hdDQubXVsdGlwbHkobE1hdDQsIHJNYXQ0KTsKICAgICAgfQogICAgfQogIH07IC8vIOWIneWni+WMlumAj+inhuefqemYtQoKICBpYS5hY3Rpb24uZXllcy5vcGVuRXllcygpOyAvLyDop4Llr5/nmoTnn6nlvaIg5ZCRIHrovbTnmoTlj43mlrnlkJHot7Pot4PkuoY15Liq6Led56a7OwoKICBpYS5hY3Rpb24udmlldy5qdW1wKFswLCAwLCAtNV0pOwogIHJldHVybiBpYTsKfTsKCmV4cG9ydCBkZWZhdWx0IElhOw=="},{"version":3,"sources":["/Users/luzheng/Desktop/react+ts电商平台/vueDataV/src/views/home/thinkia.js"],"names":["Ia","ia","Object","eyes","mat4","position","getPos","pos","euler","order","cell","quaternion","isOpen","view","target","rotateAngle","axis","value","getCurRotateAngle","normal","i","length","dir","thinkMath","vec3","applyMat4","ori","curNormal","applyVec3","colorful","curVF","freeGL","vSrc","fSrc","simplePoint","texture","simpleLight","useSimplePoint","num","world","vAttrib","numComponents","fAttrib","useTexture","useSimpleLight","render","initCanvasPx","programInfo","gl","expand","helloIaWorldExpand","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","uniform1i","uniformLocations","uSampler","drawElements","TRIANGLES","UNSIGNED_SHORT","loadTexure","url","onload","createTexture","level","internalFormat","RGBA","width","height","border","srcFormat","srcType","UNSIGNED_BYTE","pixel","Uint8Array","texImage2D","image","Image","pixelStorei","UNPACK_FLIP_Y_WEBGL","isPowerOf2","generateMipmap","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","src","jsonObj","loadJson","fetch","then","response","json","data","program","canvas","blend2opacity","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","initIaWorld","needClear","complete","canvasId","console","log","document","querySelector","window","innerWidth","innerHeight","getContext","addEventListener","onWindowResize","style","action","blink","viewport","error","clearColor","clear","COLOR_BUFFER_BIT","vShader","loadShader","VERTEX_SHADER","fShader","FRAGMENT_SHADER","shaderProgram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","attribLocations","vertexPosition","getAttribLocation","vertexColor","projectionMatrix","getUniformLocation","modelViewMatrix","textureCoord","vertexNormal","lightColor","lightDir","type","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","getGL","getCanvas","normalize","stride","offset","buffer","attribute","array","draw","positions","positionBuffer","initBuffer","colors","ARRAY_BUFFER","STATIC_DRAW","createBuffer","bindBuffer","bufferData","Float32Array","colorBuffer","color","textureBuffer","coord","index","textureCoordBuffer","textureCoordinates","indexBuffer","ELEMENT_ARRAY_BUFFER","indices","Uint16Array","uvReverse","temp","simpleLightBuffer","normals","colorsBuffer","normalBuffer","helloIaWorld","buffers","clearDepth","DEPTH_TEST","depthFunc","LEQUAL","DEPTH_BUFFER_BIT","upMat","umvMat","useProgram","uniformMatrix4fv","FLOAT","vertexAttribPointer","enableVertexAttribArray","updateMat4","updateEyes","updateView","drawPoints","size","count","vCount","uPointSize","uniform1f","drawArrays","POINTS","drawLines","way","vertexCount","LINES","LINE_STRIP","LINE_LOOP","drawTriangle","TRIANGLE_STRIP","TRIANGLE_FAN","drawTexture","mode","soul","time","oriTimer","oriStart","oriEnd","go","start","end","timer","startBeta","endBeta","reTime","jump","vec","rotate","rad","needNor","normaVec3","Math","sqrt","s","sin","c","cos","t","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","b00","b01","b02","b10","b11","b12","b20","b21","b22","multiply","lMat4","rMat4","a14","a24","a31","a32","a33","a34","a41","a42","a43","a44","b13","b14","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","getInverse","te","me","n11","n21","n31","n41","n12","n22","n32","n42","n13","n23","n33","n43","n14","n24","n34","n44","t11","t12","t13","t14","det","detInv","lookAt","eye","up","z","x","abs","y","toMat4","a","b","d","e","f","ae","af","be","bf","triangleArea","pointA","pointB","pointC","area","side","pow","p","planeEquation","PE","A","B","C","D","pNormal","intersectionLinePlane","p1","p2","pointD","p1p2","den","n","s0","s1","s2","s3","temVec","w","vec2","temVec2","result","cosTheta","top","bot","acos","PI","openEyes","fov","near","far","aspect","tan","lookAbout","walk","finalMat4"],"mappings":"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","sourcesContent":["/**\n *  thinkia\n *  2019.5.8\n *\n **/\n\n   //  what's ia ?\n\n  const Ia =  function Ia() {\n\n    let ia = new Object();\n\n    // eyes\n    ia.eyes ={\n        mat4:[\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1\n        ],\n        position:[0,0,0],\n        getPos:function () {\n            let pos =[]\n            pos[0] = ia.eyes.mat4[12];\n            pos[1] = ia.eyes.mat4[13];\n            pos[2] = ia.eyes.mat4[14];\n            return pos;\n        },\n        euler : {\n\n            order:'ZYX',\n\n            cell:[1,0,0],\n\n        },\n        quaternion:[0,0,0,1],\n        isOpen : false,\n\n    };\n\n    // view\n    ia.view = {\n        // mvMat\n        mat4:[\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1\n        ],\n        getPos:function () {\n            let pos =[];\n            pos[0] = ia.view.mat4[12];\n            pos[1] = ia.view.mat4[13];\n            pos[2] = ia.view.mat4[14];\n            return pos;\n        },\n\n        //  mat4 初始朝向\n        target:[0,0,-1],\n\n        // mat4旋转信息\n        rotateAngle:{\n\n            // 转轴\n            axis:'XYZ',\n\n            // 转角\n            value:0,\n\n        },\n\n        getCurRotateAngle:function () {\n\n            let normal =[];\n            for( let i=0;i<ia.view.target.length;i++)\n            {\n                normal[i] = ia.view.target[i];\n            }\n\n            let dir = ia.thinkMath.vec3.applyMat4( normal,ia.view.mat4 );\n            let ori = ia.thinkMath.vec3.applyMat4( [0,0,0],ia.view.mat4 );\n\n            let curNormal = [ dir[0]-ori[0],dir[1]-ori[1],dir[2]-ori[2]];\n\n            ia.view.rotateAngle.value = ia.thinkMath.vec3.applyVec3( normal,curNormal );\n\n            return ia.view.rotateAngle.value\n        }\n\n    };\n\n\n    // 记录一些常用 着色代码\n    ia.colorful={\n\n        curVF:0,\n\n        // 自定义着色\n        freeGL:{\n\n            vSrc:'',\n            fSrc:'',\n\n        },\n        simplePoint:{\n\n            vSrc:`\n                           \n                attribute vec4 avPos;\n                attribute vec4 avColor;\n                \n                uniform float uPointSize;\n                \n                uniform mat4 umvMat;\n                uniform mat4 upMat;\n        \n                varying highp vec4 vColor;\n              \n                void main() {\n                                \n                  gl_Position = upMat * umvMat * avPos;\n                  gl_PointSize = uPointSize;\n                  vColor = avColor;\n                                      \n                }\n                `,\n\n            fSrc:`\n         \n                varying highp vec4 vColor;\n                \n                void main() {\n                              \n                  gl_FragColor = vColor;\n                                     \n                }\n            `\n\n        },\n        texture:{\n\n            vSrc:`\n            \n        \n                attribute vec4 avPos;\n                attribute vec2 aTextureCoord;\n            \n                uniform mat4 umvMat;\n                uniform mat4 upMat;\n            \n                varying highp vec2 vTextureCoord;\n            \n                void main(void) {\n                \n                gl_Position = upMat * umvMat * avPos;\n                vTextureCoord = aTextureCoord;\n                \n              \n               \n               }`,\n\n            fSrc:`\n            \n                \n                varying highp vec2 vTextureCoord;\n\n                uniform sampler2D uSampler;\n            \n                void main(void) {\n                \n                  gl_FragColor = texture2D(uSampler, vTextureCoord);\n            \n                  \n                }\n            `,\n\n\n        },\n        simpleLight:{\n\n            vSrc:`\n                attribute vec4 avPos;\n                attribute vec4 avColor;\n                attribute vec3 avNormal;\n                uniform vec3 uLightColor;\n                uniform vec3 uLightDir;\n                uniform mat4 umvMat;\n                uniform mat4 upMat;\n                varying vec4 vColor;\n            \n                void main() {\n                    gl_Position = upMat * umvMat * avPos;\n                    // 标准化（把长度变为 1 ）\n                    vec3 normal = normalize(avNormal);\n                    float nDotL = max(dot(uLightDir, normal), 0.0);\n                    vec3 diffuse = uLightColor * avColor.rgb * nDotL;\n                    vColor = vec4(diffuse, avColor.a);\n                }               \n            `,\n\n            fSrc:`          \n                precision mediump float; \n                varying vec4 vColor;\n                void main() {\n                   gl_FragColor = vColor;\n                }           \n            `\n        },\n        useSimplePoint:function( num=2 ){\n\n            ia.colorful.curVF =0;\n\n            // 顶点组   2 --二维组    3--三维组\n            ia.world.vAttrib.numComponents = num;\n\n            //rgba\n            ia.world.fAttrib.numComponents = 4;\n\n        },\n        useTexture:function ( num =3) {\n\n            ia.colorful.curVF =1;\n\n            ia.world.vAttrib.numComponents = num;\n\n            // 纹理坐标\n            ia.world.fAttrib.numComponents = 2;\n\n        },\n        useSimpleLight:function ( num =3) {\n\n            ia.colorful.curVF =2;\n\n            // 顶点组   2 --二维组    3--三维组\n            ia.world.vAttrib.numComponents = num;\n\n            //rgba\n            ia.world.fAttrib.numComponents = 4;\n\n        }\n    };\n    // world\n    // 这里是封装常用的webgl绘制方法  直接用于 tutorial\n    ia.world={\n\n     render:{\n         // 是否指定 canvas 的宽高     默认开启\n         initCanvasPx:true,\n     },\n     programInfo:{},\n     gl:{\n     },\n     expand:{\n\n         // 纹理代码\n\n         helloIaWorldExpand:{\n             texture: function ( texture ) {\n\n                 let gl =ia.world.gl;\n                 gl.activeTexture(gl.TEXTURE0);\n\n                 // Bind the texture to texture unit 0\n                 gl.bindTexture(gl.TEXTURE_2D, texture);\n\n                 // Tell the shader we bound the texture to texture unit 0\n                 gl.uniform1i(ia.world.programInfo.uniformLocations.uSampler, 0);\n\n                 gl.drawElements(gl.TRIANGLES,4,gl.UNSIGNED_SHORT,0);\n\n             }\n         },\n\n\n     },\n\n     texture:{\n\n         loadTexure:function ( url ,onload=function () {\n\n         } ) {\n\n             let gl = ia.world.gl;\n             let texture = gl.createTexture();\n             gl.bindTexture(gl.TEXTURE_2D, texture);\n\n             let level = 0;\n             let internalFormat = gl.RGBA;\n             let width = 1;\n             let height = 1;\n             let border = 0;\n             let srcFormat = gl.RGBA;\n             let srcType = gl.UNSIGNED_BYTE;\n             let pixel = new Uint8Array([0, 0, 255, 255]);  // opaque blue\n\n\n             gl.texImage2D(gl.TEXTURE_2D, level, internalFormat,\n                 width, height, border, srcFormat, srcType,\n                 pixel);\n\n             let image = new Image();\n             image.onload = function() {\n                 gl.bindTexture(gl.TEXTURE_2D, texture);\n\n                 // 翻转 Y 轴\n                 gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\n\n                 gl.texImage2D(gl.TEXTURE_2D, level, internalFormat,\n                     srcFormat, srcType, image);\n\n                 // 图片的宽高是否为2的指数次幂;\n                 if (ia.world.texture.isPowerOf2(image.width) && ia.world.texture.isPowerOf2(image.height)) {\n\n                     gl.generateMipmap(gl.TEXTURE_2D);\n                 } else {\n                     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n                     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n                     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n                 }\n\n                 onload(texture);\n             };\n             image.src = url;\n\n\n            return texture;\n\n         },\n         // 是否为2的指数次幂\n         isPowerOf2:function (value) {\n\n             return (value & (value - 1)) == 0;\n         }\n\n     },\n     jsonObj:{\n         loadJson:function ( url,onload=function () {\n         }) {\n\n             fetch( url)\n                 .then( response => response.json())\n                 .then( data =>{\n\n                     onload(data);\n\n                 })\n         }\n     },\n     program:{ },\n     canvas:'',\n     blend2opacity: function() {\n         ia.world.gl.enable(ia.world.gl.BLEND);\n         ia.world.gl.blendFunc(ia.world.gl.SRC_ALPHA, ia.world.gl.ONE_MINUS_SRC_ALPHA);\n     },\n        /**\n         *\n         * @param needClear    是否清理canvas\n         * @param vSrc         顶点着色src\n         * @param fSrc         片元着色src\n         * @param canvasId\n         * @param avPos        顶点坐标\n         * @param mvMat        模型视口矩阵\n         * @param pMat         投影矩阵\n         *\n         *\n         */\n     initIaWorld:function (\n         needClear=true,\n         complete=function(){\n         },\n\n         canvasId='#glcanvas'  ) {\n\n         let vSrc ;\n         let fSrc;\n\n         switch ( ia.colorful.curVF ) {\n             case 0:{\n\n                 vSrc = ia.colorful.simplePoint.vSrc;\n                 fSrc = ia.colorful.simplePoint.fSrc;\n                 break;\n             }\n             case 1:{\n\n                 vSrc = ia.colorful.texture.vSrc;\n                 fSrc = ia.colorful.texture.fSrc;\n                 break;\n             }\n\n             case 2:{\n                 vSrc = ia.colorful.simpleLight.vSrc;\n                 fSrc = ia.colorful.simpleLight.fSrc;\n                 break;\n\n             }\n\n             default : console.log(' deving ')\n\n         }\n\n\n         let canvas = document.querySelector(canvasId);\n\n\n\n         // inportant!    图片必须指定canvas 大小 ，  否则 图形渲染锯齿感非常严重!!!!!!!!!!!    2019.6.19\n          // todo   但是 为什么  不指定canvas 宽高 渲染的模式 会不一样呢？  2109.6.19 thinkia\n            if(ia.world.render.initCanvasPx)\n            {\n                canvas.width = window.innerWidth\n                canvas.height = window.innerHeight\n            }\n         // 获取webgl2 上下文\n         let gl = canvas.getContext('webgl2');\n\n          // add 2019.10.23\n          window.addEventListener( 'resize', onWindowResize, false );\n          function onWindowResize(){\n            canvas.width = window.innerWidth\n            canvas.height = window.innerHeight\n            canvas.style.width = `${window.innerWidth}px`\n            canvas.style.height= `${window.innerHeight}px`\n            ia.action.eyes.blink()\n            gl.viewport(0, 0,\n              window.innerWidth, window.innerHeight)\n          }\n\n         if (!gl) {\n             console.error(' not support webgl2.');\n             return;\n         }\n\n         // 保存gl 和 canvas\n         ia.world.gl = gl;\n\n         ia.world.canvas=canvas;\n\n         if(needClear)\n         {\n             gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n             gl.clear(gl.COLOR_BUFFER_BIT);\n         }\n\n         // 顶点与片元着色\n         let vShader = ia.world.loadShader( gl,gl.VERTEX_SHADER,vSrc );\n         let fShader = ia.world.loadShader( gl,gl.FRAGMENT_SHADER,fSrc );\n\n         let shaderProgram = gl.createProgram();\n         gl.attachShader( shaderProgram, vShader );\n         gl.attachShader( shaderProgram, fShader );\n         gl.linkProgram( shaderProgram );\n\n         if(!gl.getProgramParameter( shaderProgram, gl.LINK_STATUS ))\n         {\n             console.error(`error: ${gl.getProgramInfoLog( shaderProgram )}` );\n             return ;\n         }\n\n         //\n\n         switch ( ia.colorful.curVF ) {\n             // 使用simplePoint 着色\n             case  0:{\n                 ia.world.programInfo = {\n                     program: shaderProgram,\n                     attribLocations: {\n                         vertexPosition: gl.getAttribLocation( shaderProgram, 'avPos' ),\n                         vertexColor: gl.getAttribLocation(shaderProgram, 'avColor'),\n                     },\n                     uniformLocations: {\n                         projectionMatrix: gl.getUniformLocation( shaderProgram, 'upMat' ),\n                         modelViewMatrix: gl.getUniformLocation( shaderProgram, 'umvMat' ),\n                     },\n                 };\n\n                 break;\n             }\n\n             // 使用texture着色\n             case 1:{\n                 ia.world.programInfo = {\n                     program: shaderProgram,\n                     attribLocations: {\n                         vertexPosition: gl.getAttribLocation(shaderProgram, 'avPos'),\n                         textureCoord: gl.getAttribLocation(shaderProgram, 'aTextureCoord'),\n                     },\n                     uniformLocations: {\n                         projectionMatrix: gl.getUniformLocation(shaderProgram, 'upMat'),\n                         modelViewMatrix: gl.getUniformLocation(shaderProgram, 'umvMat'),\n                         uSampler: gl.getUniformLocation(shaderProgram, 'uSampler'),\n                     },\n                 };\n                    break;\n             }\n\n             case 2:{\n\n                 ia.world.programInfo = {\n                     program: shaderProgram,\n                     attribLocations: {\n                         vertexPosition: gl.getAttribLocation( shaderProgram, 'avPos' ),\n                         vertexColor: gl.getAttribLocation(shaderProgram, 'avColor'),\n                         vertexNormal:gl.getAttribLocation(shaderProgram,'avNormal'),\n\n                     },\n                     uniformLocations: {\n                         projectionMatrix: gl.getUniformLocation( shaderProgram, 'upMat' ),\n                         modelViewMatrix: gl.getUniformLocation( shaderProgram, 'umvMat' ),\n                         lightColor:gl.getUniformLocation(shaderProgram,'uLightColor'),\n                         lightDir:gl.getUniformLocation(shaderProgram,'uLightDir'),\n                     },\n                 };\n\n                 break;\n\n\n             }\n\n             default :console.log('deving ')\n\n         }\n\n         complete();\n\n     },\n     loadShader:function( gl,type,src ){\n\n         const  shader = gl.createShader( type );\n\n         gl.shaderSource( shader , src );\n\n         // 编译\n\n         gl.compileShader( shader );\n\n         // 异常检测\n         if(!gl.getShaderParameter( shader , gl.COMPILE_STATUS ))\n         {\n             console.error( `error: ${gl.getShaderInfoLog( shader )}`)\n             gl.deleteShader( shader );\n             return null ;\n         }\n\n         return shader ;\n\n     },\n     getGL:function () {\n\n         return ia.world.gl;\n\n     },\n     getCanvas:function () {\n\n         return ia.world.canvas;\n\n     },\n\n     vAttrib:{\n            numComponents : 2,\n            type : '',\n            normalize : false,\n            stride : 0,\n            offset : 0,\n\n        },\n\n     fAttrib:{\n\n             numComponents : 4,\n             type : '',\n             normalize : false,\n             stride : 0,\n             offset : 0,\n     },\n\n     buffer:{\n\n         attribute :{\n             array: '',\n             draw: '',\n             positions:[],\n\n         },\n\n\n         positionBuffer:{\n\n           initBuffer:function ( pos=[0.0,0.0,],colors=[ 1.0, 0.0, 0.0, 1.0 ] , array = ia.world.gl.ARRAY_BUFFER, draw  = ia.world.gl.STATIC_DRAW,) {\n\n               let gl = ia.world.gl;\n\n               let positionBuffer = gl.createBuffer();\n\n               gl.bindBuffer( array, positionBuffer );\n\n\n               let positions = pos;\n\n\n               // 创建Float32 ，填充当前缓冲区\n\n               gl.bufferData( array,\n                   new Float32Array(positions),\n                   draw );\n\n               ia.world.buffer.attribute ={\n                   positions:pos,\n\n               };\n\n               let colorBuffer = gl.createBuffer();\n               gl.bindBuffer( gl.ARRAY_BUFFER, colorBuffer );\n               gl.bufferData( gl.ARRAY_BUFFER, new Float32Array( colors ), gl.STATIC_DRAW );\n\n               return {\n                   position: positionBuffer,\n                   color:colorBuffer\n               };\n\n           }\n\n\n        },\n\n         textureBuffer:{\n\n           initBuffer:function ( pos=[],coord=[],index=[] ) {\n\n               let gl = ia.world.gl;\n               let positionBuffer = gl.createBuffer();\n               gl.bindBuffer( gl.ARRAY_BUFFER, positionBuffer );\n\n               // 顶点坐标\n               let positions = pos;\n               gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n\n               let textureCoordBuffer = gl.createBuffer();\n               gl.bindBuffer(gl.ARRAY_BUFFER, textureCoordBuffer);\n\n               // todo 纹理坐标    uv反序    值得注意的是webgl 的三维坐标 y是屏幕朝上的，   而屏幕二维坐标的y 是朝下的\n\n              // let textureCoordinates = ia.world.buffer.textureBuffer.uvReverse( coord);\n               let textureCoordinates =  coord;\n\n               gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(textureCoordinates),\n                   gl.STATIC_DRAW);\n\n               // 顶点buffer\n               let indexBuffer = gl.createBuffer();\n               gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\n               let indices = index;\n               gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,\n                   new Uint16Array(indices), gl.STATIC_DRAW);\n\n               ia.world.buffer.attribute ={\n                   positions:pos,\n                   textureCoord:coord,\n                   indices:index\n\n               };\n\n               return {\n                   position: positionBuffer,\n                   textureCoord: textureCoordBuffer,\n                   indices: indexBuffer,\n               };\n\n           },\n\n           // todo  反转uv  以达到 图片转正效果，  准备弃用   2019.6.18   --thinkia\n           uvReverse:function ( array =[] ) {\n\n               let temp =[];\n               for(let i=0;i<array.length;i++) i%2==0 ? temp[i] =array[array.length-i-2]: temp[i] =array[array.length-i];\n               return temp;\n\n           }\n         },\n\n         simpleLightBuffer:{\n             initBuffer:function ( pos =[],colors=[],index=[],normals=[]) {\n\n\n                    let gl = ia.world.gl;\n\n                    // positions\n                    let positionBuffer = gl.createBuffer();\n\n                    gl.bindBuffer(gl.ARRAY_BUFFER,positionBuffer);\n\n                    let positions = pos;\n\n                    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n\n\n                    // colors\n                    let colorsBuffer = gl.createBuffer();\n\n                    gl.bindBuffer( gl.ARRAY_BUFFER,colorsBuffer );\n\n                    let color = colors;\n\n                    gl.bufferData(gl.ARRAY_BUFFER,new Float32Array( color),gl.STATIC_DRAW );\n\n                    // indices\n                    let indexBuffer = gl.createBuffer();\n                    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n\n\n                    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(index),gl.STATIC_DRAW );\n\n                    // normal\n                   let normalBuffer = gl.createBuffer();\n                   gl.bindBuffer(gl.ARRAY_BUFFER, normalBuffer);\n\n                   gl.bufferData(gl.ARRAY_BUFFER,new Float32Array( normals ), gl.STATIC_DRAW );\n\n\n                   // 保存buffer  attrib\n                   ia.world.buffer.attribute.positions = positions;\n                   ia.world.buffer.attribute.normals = normals\n                   ia.world.buffer.attribute.colors = colors;\n                   ia.world.buffer.attribute.indices = index;\n\n\n\n                   return {\n\n                       position:positionBuffer,\n                       normal:normalBuffer,\n                       color:colorsBuffer,\n                       indices:indexBuffer\n\n                   }\n\n             }\n         }\n\n     },\n     // 这里提供最基本的mvMat ，pMat和 vPos 配置\n     helloIaWorld:function ( buffers ,needClear=true) {\n\n         let gl = ia.world.gl;\n\n         let programInfo = ia.world.programInfo;\n\n         if(needClear)\n         {\n             gl.clearColor(0.0, 0.0, 0.0, 1.0);  // rgba 值\n             gl.clearDepth(1.0);          // 清除所有图层\n             gl.enable(gl.DEPTH_TEST);           // 开启深度测试\n             gl.depthFunc(gl.LEQUAL);            // 遮挡效果\n\n             // 清理canvas.\n\n             gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n         }\n         // u :uniform   pMat: 投影矩阵\n         let upMat = ia.eyes.mat4;\n\n         // u:uniform  mvMat : mv矩阵\n         let umvMat = ia.view.mat4;\n\n         let vAttrib = ia.world.vAttrib;\n\n         gl.useProgram(programInfo.program);\n\n         // Set the shader uniforms\n\n         gl.uniformMatrix4fv(\n             programInfo.uniformLocations.projectionMatrix,\n             false,\n             upMat);\n         gl.uniformMatrix4fv(\n             programInfo.uniformLocations.modelViewMatrix,\n             false,\n             umvMat);\n\n\n\n         ia.world.program = programInfo.program;\n\n         {\n             let numComponents = vAttrib.numComponents;\n             let type = gl.FLOAT;\n             let normalize = vAttrib.normalize;\n             let stride = vAttrib.stride;\n             let offset = vAttrib.offset;\n\n             gl.bindBuffer( gl.ARRAY_BUFFER, buffers.position );\n             gl.vertexAttribPointer(\n                 programInfo.attribLocations.vertexPosition,\n                 numComponents,\n                 type,\n                 normalize,\n                 stride,\n                 offset);\n             gl.enableVertexAttribArray(\n                 programInfo.attribLocations.vertexPosition);\n         }\n\n\n         let fAttrib = ia.world.fAttrib;\n\n\n         // 片元着色\n         // todo colors 和 纹理取的rgba 是一样的吗？  这里我把纹理颜色 归在colors 里面  2019.6.14  --thinkia\n         let numComponents = fAttrib.numComponents;\n         let type = gl.FLOAT;\n         let normalize = fAttrib.normalize;\n         let stride = fAttrib.stride;\n         let offset = fAttrib.offset;\n\n\n         switch ( ia.colorful.curVF) {\n             case 0:{\n                 gl.bindBuffer(gl.ARRAY_BUFFER, buffers.color);\n                 gl.vertexAttribPointer(\n                     programInfo.attribLocations.vertexColor,\n                     numComponents,\n                     type,\n                     normalize,\n                     stride,\n                     offset);\n                 gl.enableVertexAttribArray(\n                     programInfo.attribLocations.vertexColor);\n                 break;\n             }\n\n\n             case 1:{\n\n                 gl.bindBuffer(gl.ARRAY_BUFFER, buffers.textureCoord);\n                 gl.vertexAttribPointer(\n                     programInfo.attribLocations.textureCoord,\n                     numComponents,\n                     type,\n                     normalize,\n                     stride,\n                     offset);\n                 gl.enableVertexAttribArray(\n                     programInfo.attribLocations.textureCoord);\n\n                 gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffers.indices);\n\n\n                 gl.uniform1i(programInfo.uniformLocations.uSampler, 0);\n\n                 break;\n             }\n\n             case 2:{\n                 gl.bindBuffer(gl.ARRAY_BUFFER, buffers.color);\n                 gl.vertexAttribPointer(\n                     programInfo.attribLocations.vertexColor,\n                     numComponents,\n                     type,\n                     normalize,\n                     stride,\n                     offset);\n                 gl.enableVertexAttribArray(\n                     programInfo.attribLocations.vertexColor);\n                 break;\n             }\n             default : console.log( 'deving ')\n         }\n\n     },\n\n     updateMat4:function( updateEyes=false,updateView=true ){\n\n         let gl = ia.world.gl;\n         let programInfo = ia.world.programInfo;\n\n         // u :uniform   pMat: 投影矩阵\n         let upMat = ia.eyes.mat4;\n\n         // u:uniform  mvMat : mv矩阵\n         let umvMat = ia.view.mat4;\n\n         gl.useProgram(programInfo.program);\n\n         if( updateEyes)\n         {\n             gl.uniformMatrix4fv(\n                 programInfo.uniformLocations.projectionMatrix,\n                 false,\n                 upMat);\n         }\n\n         if( updateView)\n         {\n             gl.uniformMatrix4fv(\n                 programInfo.uniformLocations.modelViewMatrix,\n                 false,\n                 umvMat);\n         }\n     },\n\n     clearColor:function(){\n         let gl = ia.world.gl;\n\n         gl.clearColor(0.0, 0.0, 0.0, 1.0);  // rgba 值\n         gl.clearDepth(1.0);         // 清除所有图层\n         gl.enable(gl.DEPTH_TEST);           // 开启深度测试\n         gl.depthFunc(gl.LEQUAL);            // 遮挡效果\n\n         // 清理canvas.\n\n         gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n     },\n\n     // 画点   num 一般为2或者3   vertexCount 为要绘制的顶点数\n\n     drawPoints:function ( size =10, offset=0,count ) {\n\n         let num=ia.world.vAttrib.numComponents;\n         let gl = ia.world.gl;\n\n         let vCount;\n\n         count? vCount =count :vCount =ia.world.buffer.attribute.positions.length/num -offset;\n\n         if( offset+vCount>ia.world.buffer.attribute.positions.length/num )\n         {\n             console.log(' no vertices ')\n             return\n         }\n\n\n         // 顶点数量\n\n         let uPointSize = gl.getUniformLocation( ia.world.program,'uPointSize' );\n\n         gl.uniform1f( uPointSize ,size);\n\n         gl.drawArrays( gl.POINTS, offset, vCount );\n\n     },\n\n        /**\n         *\n         * @param way\n         *\n         *  1  --> LINES  绘制线段 两个一组\n         *  2  --> LINE_STRIP 绘制线段 依次连接\n         *  3  --> LINE_LOOP 绘制线段 依次连接 首尾相连\n         *\n         */\n     drawLines:function ( way=1,offset=0,vertexCount,num=ia.world.vAttrib.numComponents ) {\n\n         let gl = ia.world.gl;\n\n         let vCount;\n\n         vCount =vertexCount?vertexCount: ia.world.buffer.attribute.positions.length/num;\n\n         switch ( way ) {\n             case 1: {\n                 gl.drawArrays(gl.LINES, offset, vCount);\n                 break;\n             }\n             case 2:{\n                 gl.drawArrays(gl.LINE_STRIP, offset, vCount);\n                 break;\n             }\n             case 3:{\n                 gl.drawArrays(gl.LINE_LOOP, offset, vCount);\n                 break;\n             }\n             default: console.log(' deving ');\n         }\n\n\n     },\n\n        /**\n         *\n         * @param way\n         *  1 --> TRIANGLES        绘制三角形 三个顶点一组\n         *  2 --> TRIANGLE_STRIP   绘制三角形 依次组成三角形\n         *  3 --> TRIANGLE_FAN     以第一个顶点为中心点，其他顶点作为边缘点依次绘制\n         *\n         * @param num\n         *\n         * @param offset\n         *\n         * @param vertexCount\n         *\n         */\n\n     drawTriangle:function ( way=2,offset=0,vertexCount,num=ia.world.vAttrib.numComponents) {\n\n         let gl = ia.world.gl;\n\n         let vCount;\n\n         vCount =vertexCount?vertexCount: ia.world.buffer.attribute.positions.length/num;\n\n         switch ( way ) {\n             case 1: {\n                 gl.drawArrays(gl.TRIANGLES, offset, vCount);\n                 break;\n             }\n             case 2:{\n                 gl.drawArrays(gl.TRIANGLE_STRIP, offset, vCount);\n                 break;\n             }\n             case 3:{\n                 gl.drawArrays(gl.TRIANGLE_FAN, offset, vCount);\n                 break;\n             }\n             default: console.log(' deving ');\n         }\n\n     },\n\n     drawTexture( offset=0, count=ia.world.buffer.attribute.indices.length, type=ia.world.gl.UNSIGNED_SHORT, mode=ia.world.gl.TRIANGLES) {\n\n         let gl = ia.world.gl;\n\n         gl.drawElements(mode,count,type,offset);\n\n     }\n\n    };\n\n\n    // ia's soul  动画工具\n\n    ia.soul = {\n\n        // tween\n        time:{\n\n            oriTimer:0,\n            oriStart:'',\n            oriEnd:'',\n            go:function (  start , end, timer = 120, way =1    ) {\n\n                switch ( way ){\n\n                    // line\n                    case 1: {\n\n                        if( ia.soul.time.oriTimer > timer ) return ;\n\n                        if( ia.soul.time.oriTimer < 1 )\n                        {\n                            ia.soul.time.oriStart = start ;\n                            ia.soul.time.oriEnd = end;\n                        }\n\n                        for( let i = 0 ;i< start.length;i++ )\n                        {\n                            let startBeta = ia.soul.time.oriStart;\n                            let endBeta = ia.soul.time.oriEnd;\n                            start[i] = startBeta[ i ]  + ia.soul.time.oriTimer * ( endBeta[i] - startBeta[i] ) / timer ;\n                        }\n\n                        ia.soul.time.oriTimer++;\n\n                        break;\n                    }\n\n                    default : console.log( ' dev   ing  ' )\n\n                }\n\n\n            },\n            reTime:function () {\n                ia.soul.oriTimer = 0;\n            }\n        },\n\n    };\n\n    // thinkMath   http://www.songho.ca/opengl/gl_matrix.html     常用的数学类库\n\n    ia.thinkMath = {\n\n        mat4:{\n             // translation\n            jump: function ( mat4,vec ) {\n                     for(let i =0 ;i<4;i++)\n                         mat4[12+i] = mat4[i] * vec[0] + mat4[i+4] * vec[1] + mat4[i+8] * vec[2] + mat4[i+12]\n             } ,\n\n            rotate:function ( mat4, vec , rad ,needNor = true ) {\n\n                let  normaVec3 = vec;\n\n                // vec is normalized?\n\n                //  如果传的是单位向量  needNor 可以设置为false;   在一些反复计算中可以减少计算量 优化程序;\n\n                if( needNor )\n                {\n\n                    let length = Math.sqrt(vec[0] * vec [0] + vec[1] * vec[1] + vec[2] * vec[2] );\n\n                    if( length < 0.000001 ) return null;\n\n                    normaVec3[0] = vec[0] /  length;\n                    normaVec3[1] = vec[1] /  length;\n                    normaVec3[2] = vec[2] /  length;\n\n                }\n\n                // rotate\n\n                let  s = Math.sin( rad );\n                let  c = Math.cos( rad );\n                let  t  = 1 - c ;\n\n                let a00 = mat4[0] , a01 = mat4[1] , a02 = mat4[2]  , a03 = mat4[3] ,\n                    a10 = mat4[4] , a11 = mat4[5] , a12 = mat4[6]  , a13 = mat4[7] ,\n                    a20 = mat4[8] , a21 = mat4[9] , a22 = mat4[10] , a23 = mat4[11];\n\n                let b00 = normaVec3[0] * normaVec3[0] * t + c ,               b01 = normaVec3[1] * normaVec3[0] * t + normaVec3[2] *s ,      b02 = normaVec3[2] *normaVec3[0] *t - normaVec3[1] * s ,\n                    b10 = normaVec3[0] * normaVec3[1] * t - normaVec3[2] *s , b11 = normaVec3[1] * normaVec3[1] * t + c,                     b12 = normaVec3[2] *normaVec3[1] *t + normaVec3[0] * s ,\n                    b20 = normaVec3[0] * normaVec3[2] * t + normaVec3[1] *s , b21 = normaVec3[1] * normaVec3[2] * t - normaVec3[0] *s,       b22 = normaVec3[2] *normaVec3[2] *t  + c;\n\n                mat4[0] = a00 * b00 + a10 * b01 + a20 * b02;\n                mat4[1] = a01 * b00 + a11 * b01 + a21 * b02;\n                mat4[2] = a02 * b00 + a12 * b01 + a22 * b02;\n                mat4[3] = a03 * b00 + a13 * b01 + a23 * b02;\n\n                mat4[4] = a00 * b10 + a10 * b11 + a20 * b12;\n                mat4[5] = a01 * b10 + a11 * b11 + a21 * b12;\n                mat4[6] = a02 * b10 + a12 * b11 + a22 * b12;\n                mat4[7] = a03 * b10 + a13 * b11 + a23 * b12;\n\n                mat4[8] = a00 * b20 + a10 * b21 + a20 * b22;\n                mat4[9] = a01 * b20 + a11 * b21 + a21 * b22;\n                mat4[10] = a02 * b20 + a12 * b21 + a22 * b22;\n                mat4[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n\n            },\n\n            multiply:function ( lMat4,rMat4  ) {\n\n                let a11 = lMat4[ 0 ], a12 = lMat4[ 4 ], a13 = lMat4[ 8 ], a14 = lMat4[ 12 ];\n                let a21 = lMat4[ 1 ], a22 = lMat4[ 5 ], a23 = lMat4[ 9 ], a24 = lMat4[ 13 ];\n                let a31 = lMat4[ 2 ], a32 = lMat4[ 6 ], a33 = lMat4[ 10 ], a34 = lMat4[ 14 ];\n                let a41 = lMat4[ 3 ], a42 = lMat4[ 7 ], a43 = lMat4[ 11 ], a44 = lMat4[ 15 ];\n\n                let b11 = rMat4[ 0 ], b12 = rMat4[ 4 ], b13 = rMat4[ 8 ], b14 = rMat4[ 12 ];\n                let b21 = rMat4[ 1 ], b22 = rMat4[ 5 ], b23 = rMat4[ 9 ], b24 = rMat4[ 13 ];\n                let b31 = rMat4[ 2 ], b32 = rMat4[ 6 ], b33 = rMat4[ 10 ], b34 = rMat4[ 14 ];\n                let b41 = rMat4[ 3 ], b42 = rMat4[ 7 ], b43 = rMat4[ 11 ], b44 = rMat4[ 15 ];\n\n                lMat4[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n                lMat4[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n                lMat4[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n                lMat4[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n                lMat4[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n                lMat4[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n                lMat4[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n                lMat4[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n                lMat4[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n                lMat4[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n                lMat4[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n                lMat4[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n                lMat4[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n                lMat4[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n                lMat4[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n                lMat4[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n                return lMat4;\n            },\n\n            getInverse:function ( mat4 ) {\n                // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\n                let te = [\n                    1, 0, 0, 0,\n                    0, 1, 0, 0,\n                    0, 0, 1, 0,\n                    0, 0, 0, 1],\n                    me = mat4,\n                    n11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n                    n12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n                    n13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n                    n14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n                    t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n                    t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n                    t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n                    t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n                    let det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n                    if( det === 0 )\n                    {\n                        return te;\n                    }\n\n                let detInv = 1 / det;\n\n                te[ 0 ] = t11 * detInv;\n                te[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n                te[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n                te[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n                te[ 4 ] = t12 * detInv;\n                te[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n                te[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n                te[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n                te[ 8 ] = t13 * detInv;\n                te[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n                te[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n                te[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n                te[ 12 ] = t14 * detInv;\n                te[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n                te[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n                te[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n                return te;\n            },\n\n            // 待验证\n            lookAt:function ( mat4, eye,target,up ) {\n\n                let te = mat4;\n\n                let z =[\n                    eye[0]-target[0],\n                    eye[1]-target[1],\n                    eye[2]-target[2],\n                ]\n                // eye 与 target 在同一坐标\n                if(z[0]===0&&z[1]===0&&z[2]===0 )\n                {\n                    z[2] = 1;\n                }\n\n                let x =[\n                    up[0]-z[0],\n                    up[1]-z[1],\n                    up[2]-z[2],\n                ]\n\n                if ( x[0]===0&&x[1]===0&&x[2]===0 ) {\n\n                    // up and z are parallel\n\n                    if ( Math.abs( up[2] ) === 1 ) {\n\n                        z[0] += 0.0001;\n\n                    } else {\n\n                        z[2] += 0.0001;\n\n                    }\n\n                    z.normalize();\n                    x =[\n                        up[0]-z[0],\n                        up[1]-z[1],\n                        up[2]-z[2],\n                    ]\n\n                }\n\n                x.normalize();\n                let y =[\n                    z[0]-x[0],\n                    z[1]-x[1],\n                    z[2]-x[2],\n                ]\n\n                te[ 0 ] = x[0]; te[ 4 ] = y[0]; te[ 8 ] = z[0];\n                te[ 1 ] = x[1]; te[ 5 ] = y[1]; te[ 9 ] = z[1];\n                te[ 2 ] = x[2]; te[ 6 ] = y[2]; te[ 10 ] = z[2];\n\n            }\n\n\n        },\n\n        euler:{\n\n            toMat4:function ( euler ) {\n\n                let mat4 = [\n                    1, 0, 0, 0,\n                    0, 1, 0, 0,\n                    0, 0, 1, 0,\n                    0, 0, 0, 1\n                ];\n                let x = euler.cell[0], y = euler.cell[1], z = euler.cell[2];\n                let a = Math.cos( x ), b = Math.sin( x );\n                let c = Math.cos( y ), d = Math.sin( y );\n                let e = Math.cos( z ), f = Math.sin( z );\n\n\n                if( euler.order === 'ZYX')\n                {\n                    let ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n                    mat4[ 0 ] = c * e;\n                    mat4[ 4 ] = be * d - af;\n                    mat4[ 8 ] = ae * d + bf;\n\n                    mat4[ 1 ] = c * f;\n                    mat4[ 5 ] = bf * d + ae;\n                    mat4[ 9 ] = af * d - be;\n\n                    mat4[ 2 ] = - d;\n                    mat4[ 6 ] = b * c;\n                    mat4[ 10 ] = a * c;\n                }\n\n               return mat4;\n            }\n\n\n        },\n\n        vec3:{\n            // 三角形面积\n            triangleArea : function ( pointA,pointB,pointC ) {\n\n                let area = 0 ;\n                let side = [];\n\n                side[0] = Math.sqrt( Math.pow(pointA[0] -pointB[0],2) +Math.pow(pointA[1] -pointB[1],2) +Math.pow(pointA[2] -pointB[2],2) );\n                side[1] = Math.sqrt( Math.pow(pointB[0] -pointC[0],2) +Math.pow(pointB[1] -pointC[1],2) +Math.pow(pointB[2] -pointC[2],2) );\n                side[2] = Math.sqrt( Math.pow(pointC[0] -pointA[0],2) +Math.pow(pointC[1] -pointA[1],2) +Math.pow(pointC[2] -pointA[2],2) );\n                // 不能构成三角形\n                if( side[0] +side[1] <= side[2] ||side[1] +side[2] <= side[0] ||side[2] +side[0] <= side[1] )  return area;\n\n                // 海伦公式： s =sqr(p*(p-a)(p-b)(p-c));\n                let p = ( side[0]+side[1]+side[2] )/2.0;\n\n                area = Math.sqrt(p*( p - side[0] )*( p-side[1] )* ( p-side[2] ));\n\n                return area\n\n            },\n            // 平面方程   Ax+By+Cz+D =0\n            planeEquation:function ( pointA,pointB,pointC ) {\n\n                let PE= {\n                        A:1,\n                        B:0,\n                        C:0,\n                        D:0,\n                };\n                // 待定系数法\n                PE.A = ( pointC[1] - pointA[1] )*( pointC[2] - pointA[2] ) - ( pointB[2] - pointA[2])*( pointC[1] - pointA[1] );\n                PE.B = ( pointC[0] - pointA[0] )*( pointB[2] - pointA[2] ) - ( pointB[0] - pointA[0])*( pointC[2] - pointA[2] );\n                PE.C = ( pointB[0] - pointA[0] )*( pointC[1] - pointA[1] ) - ( pointC[0] - pointA[0])*( pointB[1] - pointA[1] );\n\n                PE.D = -( PE.A * pointA[0] + PE.B * pointA[1] + PE.C * pointA[2] );\n\n                return PE ;\n            },\n            // 已知三点求法向量\n            pNormal:function ( pointA,pointB,pointC ) {\n\n                let vec = {\n                    x:1,\n                    y:0,\n                    z:0\n                };\n               let PE = ia.thinkMath.vec3.planeEquation( pointA,pointB,pointC );\n               vec.x = PE.A;\n               vec.y = PE.B;\n               vec.z = PE.C;\n\n               return vec;\n            },\n            // https://blog.csdn.net/smallflyingpig/article/details/51234711\n            // 该链接内容需要修正\n            /**\n             *\n             * @param p1   射线起始点\n             * @param p2   射线终点\n             * @param pointA 三角面片 顶点A\n             * @param pointB 三角面片 顶点B\n             * @param pointC 三角面片 顶点C\n             * @returns {boolean}\n             *\n             */\n\n            intersectionLinePlane:function ( p1,p2,pointA,pointB,pointC ) {\n\n                let pointD =[];\n                let p1p2 = [ p2[0]-p1[0],p2[1]-p1[1],p2[2]-p1[2] ];\n                let PE = ia.thinkMath.vec3.planeEquation( pointA,pointB,pointC );\n\n                let num = PE.A * p1[0] + PE.B * p1[1] + PE.C * p1[2] + PE.D ;\n                let den = PE.A * p1p2[0] + PE.B * p1p2[1] + PE.C*p1p2[2];\n                // 平行  与法向量垂直\n                if( Math.abs(den) <1e-5 )  return false ;\n\n                let n = -num/den ;\n\n                for( let i=0;i<3;i++) pointD[i] = p1[i] + n*p1p2[i];\n\n                // ABC 面积\n                let s0 = ia.thinkMath.vec3.triangleArea( pointA,pointB,pointC );\n                // DAB 面积\n                let s1 = ia.thinkMath.vec3.triangleArea( pointD,pointB,pointC );\n                // DBC 面积\n                let s2 = ia.thinkMath.vec3.triangleArea( pointA,pointD,pointC );\n                // DCA 面积\n                let s3 = ia.thinkMath.vec3.triangleArea( pointA,pointB,pointD);\n\n                if( Math.abs( (s1+s2+s3 -s0)) < 1e-6 )\n                {\n                    console.log(`射线交点坐标：${pointD}` ) ;\n                    return true;\n                }\n\n                else\n                    return false;\n\n            },\n\n            //  求得经过旋转变换后的三维坐标\n\n            applyMat4:function ( vec ,mat4 ) {\n\n                let temVec = [vec[0],vec[1],vec[2] ];\n                let w = 1 / ( mat4[ 3 ] * vec[0] + mat4[ 7 ] * vec[1] + mat4[ 11 ] * vec[2] + mat4[ 15 ] );\n                for( let i=0;i<3;i++)\n                    vec[i] = ( mat4[ i ] * temVec[0] + mat4[ 4 +i ] * temVec[1] + mat4[ 8+i ] * temVec[2] + mat4[ 12+i ] ) * w;\n\n                return vec ;\n            },\n\n\n            /**\n             *\n             * @param vec\n             * @param vec2\n             *\n             * 返回结果为两向量夹角  弧度\n             */\n            applyVec3:function (vec,vec2 ) {\n\n                let  temVec=[],temVec2=[];\n\n                let result;\n\n                let cosTheta;\n\n                for(let i=0;i<3;i++)\n                {\n                    temVec[i] = vec[i];\n                    temVec2[i] = vec2[i];\n                }\n\n                let top =0;\n                let bot ;\n\n                for( let i=0;i<3;i++)\n                    top+=temVec[i]*temVec2[i];\n\n                bot = Math.sqrt(temVec[0]*temVec[0] +temVec[1]*temVec[1] +temVec[2]*temVec[2]) *\n                      Math.sqrt(temVec2[0]*temVec2[0] +temVec2[1]*temVec2[1] +temVec2[2]*temVec2[2]) ;\n\n                cosTheta = top/bot;\n\n                result =180* Math.acos( cosTheta )/Math.PI;\n\n                return result;\n\n            }\n\n\n\n\n        }\n    };\n\n\n    // action\n    ia.action = {\n\n            eyes:{\n                // 关于透视投影的理解可以参阅下面两个链接\n                // https://stackoverflow.com/questions/28286057/trying-to-understand-the-math-behind-the-perspective-matrix-in-webgl/28301213#28301213\n                // http://www.songho.ca/opengl/gl_projectionmatrix.html\n                openEyes:function(\n                                        fov = 50 * Math.PI/180,\n                                        near = 0.1 ,\n                                        far  = 1000.0,\n                                        aspect = window.innerHeight/window.innerWidth\n                                    ) {\n\n                    if( ia.eyes.isOpen || !fov || near === far ) return ;\n\n                    let mat4 = ia.eyes.mat4;\n                    mat4[0] = aspect/Math.tan(fov/2) ;\n                    mat4[5] = mat4[0] / aspect ;\n                    mat4[10] = ( far + near ) / ( near - far ) ;\n                    mat4[11] = -1;\n                    mat4[14] = 2 * far * near /( near - far)\n                    mat4[15] = 0;\n\n                    ia.eyes.isOpen = true;\n\n\n            },\n                blink:function (  fov = 50 * Math.PI/180,\n                                   near = 0.1 ,\n                                   far  = 1000.0,\n                                   aspect = window.innerHeight/window.innerWidth ) {\n                    ia.eyes.isOpen =false;\n                    ia.action.eyes.openEyes( fov,near,far,aspect );\n                },\n\n                rotate:function ( vec , rad ,needNor) {\n\n                    let mat4 = ia.eyes.mat4;\n\n                    return ia.thinkMath.mat4.rotate( mat4 , vec , rad ,needNor );\n\n                },\n                lookAbout:function (  rMat4  ) {\n\n                    let lMat4 = ia.eyes.mat4;\n\n                    return ia.thinkMath.mat4.multiply( lMat4,rMat4 );\n\n                }\n\n        },\n\n            view:{\n\n                jump:function ( vec ) {\n\n                    let mat4 = ia.view.mat4;\n\n                    return  ia.thinkMath.mat4.jump( mat4 , vec );\n\n                },\n\n                walk:function ( vec , timer ) {\n\n                    let  finalMat4 = [];\n\n                    for( let i =0;i<ia.view.mat4.length;i++)\n                    {\n                        finalMat4[i] = ia.view.mat4[i]\n                    }\n\n                    ia.thinkMath.mat4.jump( finalMat4 , vec );\n\n                    ia.soul.time.go( ia.view.mat4, finalMat4 , timer  ) ;\n\n                },\n\n                rotate:function ( vec , rad ,needNor ) {\n\n                   let mat4 = ia.view.mat4;\n\n                   return ia.thinkMath.mat4.rotate( mat4 , vec , rad,needNor );\n\n                },\n                lookAbout:function (  rMat4  ) {\n\n                    let lMat4 = ia.view.mat4;\n\n                    return ia.thinkMath.mat4.multiply( lMat4,rMat4 );\n\n                }\n        },\n\n\n\n    };\n\n\n    // 初始化透视矩阵\n    ia.action.eyes.openEyes();\n\n    // 观察的矩形 向 z轴的反方向跳跃了5个距离;\n\n    ia.action.view.jump( [0,0,-5] );\n\n    return ia;\n\n}\nexport default Ia\n\n\n\n\n\n\n\n\n"]}]}