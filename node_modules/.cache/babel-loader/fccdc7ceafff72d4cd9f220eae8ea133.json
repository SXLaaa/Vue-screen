{"remainingRequest":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/luzheng/Desktop/react+ts电商平台/vueDataV/src/views/home/threeJS.js","dependencies":[{"path":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/src/views/home/threeJS.js","mtime":1615989282977},{"path":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/luzheng/Desktop/react+ts电商平台/vueDataV/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnOwppbXBvcnQgSWEgZnJvbSAnLi90aGlua2lhJzsKaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JzsKaW1wb3J0IHsgT0JKTG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvT0JKTG9hZGVyLmpzJzsKaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzJzsKaW1wb3J0IHsgRWZmZWN0Q29tcG9zZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXIuanMnOwppbXBvcnQgeyBSZW5kZXJQYXNzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3Bvc3Rwcm9jZXNzaW5nL1JlbmRlclBhc3MuanMnOwppbXBvcnQgeyBPdXRsaW5lUGFzcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9PdXRsaW5lUGFzcy5qcyc7CmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcy5qcyc7CmltcG9ydCB7IFVucmVhbEJsb29tUGFzcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9VbnJlYWxCbG9vbVBhc3MuanMnOwppbXBvcnQgeyBGWEFBU2hhZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3NoYWRlcnMvRlhBQVNoYWRlci5qcyc7CnZhciBzZWxlY3RlZE9iamVjdHMgPSBbXTsKdmFyIHJhZGl1cyA9IDYzNzE7CnZhciB0aWx0ID0gMC40MTsKdmFyIHJvdGF0aW9uU3BlZWQgPSAwLjAyOwp2YXIgY2FtZXJhLCBjb250cm9scywgc2NlbmUsIHJlbmRlcmVyLCBzdGF0cywgZ2VvbWV0cnksIGNvbXBvc2VyLCBtb3VzZSwgcmF5Y2FzdGVyLCB2ZWN0b3IzLCBkaXJMaWdodCwgdmlkZW8sIG91dGxpbmVQYXNzLCByZW5kZXJTY2VuZSwgbm90U2VsZWN0ZWQsIGNhbWVyYVBvc3Rpb25TdGFydCwgYmxvb21Db21wb3NlciwgYmxvb21QYXNzLCBmaW5hbFBhc3MsIGNvbnRhaW5lciwgYnVmZmVycywgY2FudmFzLCBtaXhlciwgc2VsZWN0ZWRPYmplY3Q7CnZhciBmbGFnID0gdHJ1ZSwKICAgIHNlbGVjdEZsYWcgPSBmYWxzZTsKdmFyIHRleHR1cmVMb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpOwp2YXIgY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTsKdmFyIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGgsCiAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CnZhciB0aW1lcyA9IDA7CnZhciBpYSA9IElhKCk7CnZhciBpYVdvcmxkID0gaWEud29ybGQ7CmlhLmNvbG9yZnVsLnVzZVNpbXBsZVBvaW50KDMpOwp2YXIgbGluZUluZm8gPSBbXSwKICAgIGNvbG9ycyA9IFtdLAogICAgcG9zaXRpb25zID0gW107Cgp2YXIgZHJhd1BvaW50ID0gZnVuY3Rpb24gZHJhd1BvaW50KCkge307IC8vIOi+ieWFieWPguaVsOmFjee9rgoKCnZhciBFTlRJUkVfU0NFTkUgPSAwLAogICAgQkxPT01fU0NFTkUgPSAxOwp2YXIgYmxvb21MYXllciA9IG5ldyBUSFJFRS5MYXllcnMoKTsKYmxvb21MYXllci5zZXQoQkxPT01fU0NFTkUpOwp2YXIgZGFya01hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsKICBjb2xvcjogImJsYWNrIgp9KTsKdmFyIG1hdGVyaWFscyA9IHt9Owp2YXIgcGFyYW1zID0gewogIGV4cG9zdXJlOiAxLAogIGJsb29tU3RyZW5ndGg6IDIuMywKICBibG9vbVRocmVzaG9sZDogMCwKICBibG9vbVJhZGl1czogMCwKICBzY2VuZTogIlNjZW5lIHdpdGggR2xvdyIKfTsKLyoqCiAqIOS6i+S7tgogKiAqLwoKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Eb2N1bWVudE1vdXNlQ2xpY2ssIGZhbHNlKTsKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKCkgewogIGZsYWcgPSB0cnVlOwp9KTsKCndpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICB2YXIgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0OwogIGNhbWVyYS5hc3BlY3QgPSB3aWR0aCAvIGhlaWdodDsKICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpOwogIHJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7CiAgYmxvb21Db21wb3Nlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpOwogIGNvbXBvc2VyLnNldFNpemUod2lkdGgsIGhlaWdodCk7CiAgcmVuZGVycygpOwp9OwoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blNlbGVjdCcpLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgc2VsZWN0RmxhZyA9IGZhbHNlOwogIHNlbGVjdGVkT2JqZWN0LmxheWVycy5kaXNhYmxlQWxsKCk7CiAgc2VsZWN0ZWRPYmplY3QubGF5ZXJzLnRvZ2dsZShFTlRJUkVfU0NFTkUpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbGNhbnZhcycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICQoIiNidG5TZWxlY3QiKS5oaWRlKCk7CiAgdHdlZW5BbmltYXRlKGNhbWVyYS5wb3NpdGlvbiwgY2FtZXJhUG9zdGlvblN0YXJ0KTsKCiAgaWYgKG5vdFNlbGVjdGVkLmxlbmd0aCA+IDApIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm90U2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgbm90U2VsZWN0ZWRbaV0udmlzaWJsZSA9IHRydWU7CiAgICB9CgogICAgbm90U2VsZWN0ZWQgPSBbXTsKICB9IGVsc2Uge30KfTsKLyoqCiAqIOS4u+WHveaVsCAgLS0gMe+8iOWIneWni+WMlu+8iQogKiAqLwoKCmV4cG9ydCBmdW5jdGlvbiBpbml0KCkgewogIC8v5a655ZmoCiAgLy8gY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgLy8gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpOwogIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RocmVlRGl2Jyk7CiAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnOwogIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7CiAgdmFyIGJveFRocmVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0JveEREJyk7CiAgYm94VGhyZWUuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsgLy/lsITnur/mj5Dlj5blmagKCiAgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpOwogIG1vdXNlID0gbmV3IFRIUkVFLlZlY3RvcjIoKTsgLy/mkK3lu7rlnLrmma8KCiAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTsKICBzY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMigweDAwMDAwMCwgMC4wMDAwMDAyNSk7IC8v55u45py65Yid5aeL5YyWCgogIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSgzMCwgd2lkdGggLyBoZWlnaHQsIDEsIDUwMDAwMDApOwogIGNhbWVyYVBvc3Rpb25TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IzKDEwMDAsIDUwMCwgMTAwMCk7CiAgY2FtZXJhLnBvc2l0aW9uLnNldChjYW1lcmFQb3N0aW9uU3RhcnQueCwgY2FtZXJhUG9zdGlvblN0YXJ0LnksIGNhbWVyYVBvc3Rpb25TdGFydC56KTsKICBsaWdodCgpOyAvL+eBr+WFiQoKICBzdGFycygpOyAvL+aYn+epugoKICByZW5kZXJlciA9IGluaXRSZW5kZXIoKTsgLy8gY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhbnZhcycpWzBdKQoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZmxvd2luZ0xpZ2h0Q2FudmFzKCkpOyAvL2RpduS4rea3u+WKoOa1geWFieeUu+W4gwoKICBzY2VuZS5hZGQobmV3IFRIUkVFLkdyaWRIZWxwZXIoMjUwMCwgMjAsICd5ZWxsb3cnLCAnIzQxMDA0MScpKTsKICBjb250cm9scyA9IGNvbnRyb2woKTsgLy/mraPluLjmuLLmn5Pnu4TlkIgKCiAgY29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIocmVuZGVyZXIpOwogIHJlbmRlclNjZW5lID0gbmV3IFJlbmRlclBhc3Moc2NlbmUsIGNhbWVyYSk7CiAgb3V0bGluZVBhc3MgPSBuZXcgT3V0bGluZVBhc3MobmV3IFRIUkVFLlZlY3RvcjIod2lkdGgsIGhlaWdodCksIHNjZW5lLCBjYW1lcmEpOwogIGNvbXBvc2VyLmFkZFBhc3MocmVuZGVyU2NlbmUpOwogIGNvbXBvc2VyLmFkZFBhc3Mob3V0bGluZVBhc3MpOyAvL+i+ieWFiemAmumBkwoKICBibG9vbVBhc3MgPSBuZXcgVW5yZWFsQmxvb21QYXNzKG5ldyBUSFJFRS5WZWN0b3IyKHdpZHRoLCBoZWlnaHQpLCAxLjUsIDAuNCwgMC44NSk7CiAgYmxvb21QYXNzLnRocmVzaG9sZCA9IHBhcmFtcy5ibG9vbVRocmVzaG9sZDsKICBibG9vbVBhc3Muc3RyZW5ndGggPSBwYXJhbXMuYmxvb21TdHJlbmd0aDsKICBibG9vbVBhc3MucmFkaXVzID0gcGFyYW1zLmJsb29tUmFkaXVzOyAvL+i+ieWFiea4suafk+e7hOWQiAoKICBibG9vbUNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHJlbmRlcmVyKTsKICBibG9vbUNvbXBvc2VyLnJlbmRlclRvU2NyZWVuID0gZmFsc2U7CiAgYmxvb21Db21wb3Nlci5hZGRQYXNzKHJlbmRlclNjZW5lKTsKICBibG9vbUNvbXBvc2VyLmFkZFBhc3MoYmxvb21QYXNzKTsgLy/mraPluLjpgJrpgZMKCiAgZmluYWxQYXNzID0gbmV3IFNoYWRlclBhc3MobmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHsKICAgIHVuaWZvcm1zOiB7CiAgICAgIGJhc2VUZXh0dXJlOiB7CiAgICAgICAgdmFsdWU6IG51bGwKICAgICAgfSwKICAgICAgYmxvb21UZXh0dXJlOiB7CiAgICAgICAgdmFsdWU6IGJsb29tQ29tcG9zZXIucmVuZGVyVGFyZ2V0Mi50ZXh0dXJlCiAgICAgIH0KICAgIH0sCiAgICB2ZXJ0ZXhTaGFkZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJ0ZXhzaGFkZXInKS50ZXh0Q29udGVudCwKICAgIGZyYWdtZW50U2hhZGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJhZ21lbnRzaGFkZXInKS50ZXh0Q29udGVudCwKICAgIGRlZmluZXM6IHt9CiAgfSksICJiYXNlVGV4dHVyZSIpOwogIGZpbmFsUGFzcy5uZWVkc1N3YXAgPSB0cnVlOwogIGNvbXBvc2VyLmFkZFBhc3MoZmluYWxQYXNzKTsKICB2YXIgbG9hZGVyT2JqID0gbmV3IE9CSkxvYWRlcigpOwogIHZhciBtYXQ0ID0gbmV3IFRIUkVFLk1lc2hQaHlzaWNhbE1hdGVyaWFsKHsKICAgIGNvbG9yOiAweGM2ZDBjLAogICAgZW1pc3NpdmU6IDB4OTQyMTksCiAgICAvLyBlbWlzc2l2Zem7mOiupOm7keiJsgogICAgZW1pc3NpdmVNYXA6IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCgiL3N0YXRpYy90ZXh0dXJlcy9jdWJlL1BhcmsyL3Bvc3guanBnIiksCiAgICByb3VnaG5lc3M6IDAuNSwKICAgIHJlZmxlY3Rpdml0eTogMC4yCiAgfSk7CiAgdmFyIG1hdDQ0ID0gbmV3IFRIUkVFLk1lc2hQaHlzaWNhbE1hdGVyaWFsKHsKICAgIGNvbG9yOiAweDIxOTRjZSwKICAgIGVtaXNzaXZlOiAweDk0MjE5LAogICAgLy8gZW1pc3NpdmXpu5jorqTpu5HoibIKICAgIGVtaXNzaXZlTWFwOiBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoIi9zdGF0aWMvdGV4dHVyZXMvY3ViZS9QYXJrM01lZC9weC5qcGciKSwKICAgIHJvdWdobmVzczogMC41LAogICAgcmVmbGVjdGl2aXR5OiAwLjIKICB9KTsKICBsb2FkZXJPYmoubG9hZCgnL3N0YXRpYy9tb2RlbFZhbktlL2Z4dC9meHQub2JqJywgZnVuY3Rpb24gKG9iamVjdCkgewogICAgb2JqZWN0LnRyYXZlcnNlKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICBpZiAoY2hpbGQuaXNNZXNoKSB7CiAgICAgICAgaWYgKGNoaWxkLm5hbWUgIT0gInlqZnF0ZHgiKSB7CiAgICAgICAgICBjaGlsZC5tYXRlcmlhbCA9IG1hdDQ0OwogICAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWU7CiAgICAgICAgICBjaGlsZC5yZWNlaXZlU2hhZG93ID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hpbGQubWF0ZXJpYWwgPSBtYXQ0OwogICAgICAgICAgY2hpbGQubGF5ZXJzLnRvZ2dsZShCTE9PTV9TQ0VORSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIG9iamVjdC5wb3NpdGlvbi55ID0gLTE1MDsKICAgIG9iamVjdC5zY2FsZS5zZXQoMy41LCAzLjUsIDMuNSk7CiAgICBzY2VuZS5hZGQob2JqZWN0KTsKICB9LCBmdW5jdGlvbiAoeGhyKSB7CiAgICBpZiAoeGhyLmxlbmd0aENvbXB1dGFibGUpIHsKICAgICAgdmFyIHBlcmNlbnRDb21wbGV0ZSA9IHhoci5sb2FkZWQgLyB4aHIudG90YWwgKiAxMDA7CiAgICAgIGNvbnNvbGUubG9nKE1hdGgucm91bmQocGVyY2VudENvbXBsZXRlLCAyKSArICclIGRvd25sb2FkZWQnKTsKICAgIH0KICB9KTsKICBsb2FkZXJPYmoubG9hZCgnL3N0YXRpYy9tb2RlbFZhbktlL2xpZ2h0L2xpbmUzLm9iaicsIGZ1bmN0aW9uIChvYmplY3QpIHsKICAgIG9iamVjdC5zY2FsZS5zZXQoMTAsIDEwLCAxMCk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgbGluZUluZm9baV0gPSB7fTsKICAgICAgbGluZUluZm9baV0udGltZXMgPSAwOwogICAgICBsaW5lSW5mb1tpXS5jb2xvcnMgPSBbXTsKICAgICAgbGluZUluZm9baV0ucG9zaXRpb25zID0gW107CiAgICAgIGxpbmVJbmZvW2ldLnBvaW50c01vZCA9IFtdOwoKICAgICAgaWYgKG9iamVjdC5jaGlsZHJlbltpXS5uYW1lLmluY2x1ZGVzKCd4aScpKSB7CiAgICAgICAgbGluZUluZm9baV0ubmFtZSA9ICd4aSc7CiAgICAgICAgbGluZUluZm9baV0uc2l6ZSA9IDI7CiAgICAgICAgbGluZUluZm9baV0uY29sb3IgPSBbMS4wLCAwLjU0OSwgMC4xODgsIDFdOwogICAgICB9IGVsc2UgaWYgKG9iamVjdC5jaGlsZHJlbltpXS5uYW1lLmluY2x1ZGVzKCd6aG9uZycpKSB7CiAgICAgICAgbGluZUluZm9baV0ubmFtZSA9ICd6aG9uZyc7CiAgICAgICAgbGluZUluZm9baV0uc2l6ZSA9IDQ7CiAgICAgICAgbGluZUluZm9baV0uY29sb3IgPSBbMC4yNjYsIDAuNzY0LCAxLjAsIDFdOwogICAgICB9IGVsc2UgaWYgKG9iamVjdC5jaGlsZHJlbltpXS5uYW1lLmluY2x1ZGVzKCdjdScpKSB7CiAgICAgICAgbGluZUluZm9baV0ubmFtZSA9ICdjdSc7CiAgICAgICAgbGluZUluZm9baV0uc2l6ZSA9IDg7CiAgICAgICAgbGluZUluZm9baV0uY29sb3IgPSBbMC4zOTIsIDEuMCwgMC45NiwgMV07CiAgICAgIH0KCiAgICAgIHZhciB2ZWMzID0gW107CiAgICAgIHZhciBhcnJheSA9IG9iamVjdC5jaGlsZHJlbltpXS5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5OwogICAgICB2YXIgbGVuZ3RoID0gb2JqZWN0LmNoaWxkcmVuW2ldLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkubGVuZ3RoIC8gMzsKCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuZ3RoOyBqKyspIHsKICAgICAgICAvL+aUueS9jee9rgogICAgICAgIHZlYzMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyhhcnJheVszICogal0gKiAxMCwgYXJyYXlbMyAqIGogKyAxXSAqIDEwLCBhcnJheVszICogaiArIDJdICogMTApKTsKICAgICAgfQoKICAgICAgdmFyIGN1cnZlID0gbmV3IFRIUkVFLkNhdG11bGxSb21DdXJ2ZTModmVjMyk7CiAgICAgIHZhciBwb2ludHMgPSBjdXJ2ZS5nZXRQb2ludHMoMTAwKTsKCiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGsrKykgewogICAgICAgIGxpbmVJbmZvW2ldLnBvaW50c01vZC5wdXNoKHBvaW50c1trXSk7CiAgICAgICAgdmFyIG4gPSB2b2lkIDA7CiAgICAgICAgdmFyIGRpc1RhbmNlID0gcG9pbnRzW2tdLmRpc3RhbmNlVG8ocG9pbnRzW2sgKyAxXSk7CgogICAgICAgIGlmIChkaXNUYW5jZSA+IDAuMSkgewogICAgICAgICAgbiA9IE1hdGguZmxvb3IoZGlzVGFuY2UpOyAvL+iwg+mVv+efrQoKICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgbjsgbSsrKSB7CiAgICAgICAgICAgIHZhciB4ID0gKHBvaW50c1trICsgMV0ueCAtIHBvaW50c1trXS54KSAqIG0gLyBuICsgcG9pbnRzW2tdLng7CiAgICAgICAgICAgIHZhciB5ID0gKHBvaW50c1trICsgMV0ueSAtIHBvaW50c1trXS55KSAqIG0gLyBuICsgcG9pbnRzW2tdLnk7CiAgICAgICAgICAgIHZhciB6ID0gKHBvaW50c1trICsgMV0ueiAtIHBvaW50c1trXS56KSAqIG0gLyBuICsgcG9pbnRzW2tdLno7CiAgICAgICAgICAgIGxpbmVJbmZvW2ldLnBvaW50c01vZC5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKHgsIHksIHopKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGxpbmVJbmZvW2ldLm1heFRpbWVzID0gbGluZUluZm9baV0ucG9pbnRzTW9kLmxlbmd0aDsKICAgIH0KCiAgICBpYVdvcmxkLmluaXRJYVdvcmxkKGZhbHNlKTsgLy8g5byA5ZCv5re35ZCI77yM6YCP5piO5qih5byPCiAgICAvLyBpYVdvcmxkLmJsZW5kMm9wYWNpdHkoKQoKICAgIGRyYXdQb2ludCA9IGZ1bmN0aW9uIGRyYXdQb2ludCgpIHsKICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxpbmVJbmZvLmxlbmd0aDsgX2krKykgewogICAgICAgIGxpbmVJbmZvW19pXS50aW1lcyArPSAzOwoKICAgICAgICBsaW5lSW5mb1tfaV0uY29sb3JzLnB1c2gobGluZUluZm9bX2ldLmNvbG9yWzBdLCBsaW5lSW5mb1tfaV0uY29sb3JbMV0sIGxpbmVJbmZvW19pXS5jb2xvclsyXSwgbGluZUluZm9bX2ldLmNvbG9yWzNdKTsKCiAgICAgICAgbGluZUluZm9bX2ldLmNvbG9ycy5wdXNoKGxpbmVJbmZvW19pXS5jb2xvclswXSwgbGluZUluZm9bX2ldLmNvbG9yWzFdLCBsaW5lSW5mb1tfaV0uY29sb3JbMl0sIGxpbmVJbmZvW19pXS5jb2xvclszXSk7CgogICAgICAgIGxpbmVJbmZvW19pXS5jb2xvcnMucHVzaChsaW5lSW5mb1tfaV0uY29sb3JbMF0sIGxpbmVJbmZvW19pXS5jb2xvclsxXSwgbGluZUluZm9bX2ldLmNvbG9yWzJdLCBsaW5lSW5mb1tfaV0uY29sb3JbM10pOwoKICAgICAgICBsaW5lSW5mb1tfaV0ucG9zaXRpb25zLnB1c2gobGluZUluZm9bX2ldLnBvaW50c01vZFtsaW5lSW5mb1tfaV0udGltZXNdLngsIGxpbmVJbmZvW19pXS5wb2ludHNNb2RbbGluZUluZm9bX2ldLnRpbWVzXS55LCBsaW5lSW5mb1tfaV0ucG9pbnRzTW9kW2xpbmVJbmZvW19pXS50aW1lc10ueik7CgogICAgICAgIGxpbmVJbmZvW19pXS5wb3NpdGlvbnMucHVzaChsaW5lSW5mb1tfaV0ucG9pbnRzTW9kW2xpbmVJbmZvW19pXS50aW1lcyArIDFdLngsIGxpbmVJbmZvW19pXS5wb2ludHNNb2RbbGluZUluZm9bX2ldLnRpbWVzICsgMV0ueSwgbGluZUluZm9bX2ldLnBvaW50c01vZFtsaW5lSW5mb1tfaV0udGltZXMgKyAxXS56KTsKCiAgICAgICAgbGluZUluZm9bX2ldLnBvc2l0aW9ucy5wdXNoKGxpbmVJbmZvW19pXS5wb2ludHNNb2RbbGluZUluZm9bX2ldLnRpbWVzICsgMl0ueCwgbGluZUluZm9bX2ldLnBvaW50c01vZFtsaW5lSW5mb1tfaV0udGltZXMgKyAyXS55LCBsaW5lSW5mb1tfaV0ucG9pbnRzTW9kW2xpbmVJbmZvW19pXS50aW1lcyArIDJdLnopOyAvLyDoobDlh4/mlYjmnpwKCgogICAgICAgIGZvciAodmFyIF9qID0gMTsgX2ogPCBsaW5lSW5mb1tfaV0udGltZXM7IF9qKyspIHsKICAgICAgICAgIGxpbmVJbmZvW19pXS5jb2xvcnNbX2ogKiA0IC0gMV0gLT0gMC4wMjsKICAgICAgICB9IC8vIOaPkOmrmOaAp+iDvQoKCiAgICAgICAgZm9yICh2YXIgaXAgPSAwOyBpcCA8IGxpbmVJbmZvW19pXS5wb3NpdGlvbnMubGVuZ3RoIC8gMzsgaXArKykgewogICAgICAgICAgaWYgKGxpbmVJbmZvW19pXS5jb2xvcnNbaXAgKiA0ICsgM10gPiAwKSB7CiAgICAgICAgICAgIHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoXSA9IGxpbmVJbmZvW19pXS5wb3NpdGlvbnNbaXAgKiAzXTsKICAgICAgICAgICAgcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGhdID0gbGluZUluZm9bX2ldLnBvc2l0aW9uc1tpcCAqIDMgKyAxXTsKICAgICAgICAgICAgcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGhdID0gbGluZUluZm9bX2ldLnBvc2l0aW9uc1tpcCAqIDMgKyAyXTsKICAgICAgICAgICAgY29sb3JzW2NvbG9ycy5sZW5ndGhdID0gbGluZUluZm9bX2ldLmNvbG9yc1tpcCAqIDRdOwogICAgICAgICAgICBjb2xvcnNbY29sb3JzLmxlbmd0aF0gPSBsaW5lSW5mb1tfaV0uY29sb3JzW2lwICogNCArIDFdOwogICAgICAgICAgICBjb2xvcnNbY29sb3JzLmxlbmd0aF0gPSBsaW5lSW5mb1tfaV0uY29sb3JzW2lwICogNCArIDJdOwogICAgICAgICAgICBjb2xvcnNbY29sb3JzLmxlbmd0aF0gPSBsaW5lSW5mb1tfaV0uY29sb3JzW2lwICogNCArIDNdOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGxpbmVJbmZvW19pXS50aW1lcyA+IGxpbmVJbmZvW19pXS5tYXhUaW1lcyAtIDEwKSB7CiAgICAgICAgICBsaW5lSW5mb1tfaV0udGltZXMgPSAwOwogICAgICAgICAgbGluZUluZm9bX2ldLmNvbG9ycyA9IFtdOwogICAgICAgICAgbGluZUluZm9bX2ldLnBvc2l0aW9ucyA9IFtdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGJ1ZmZlcnMpIHsKICAgICAgICBpYVdvcmxkLmdsLmRlbGV0ZUJ1ZmZlcihidWZmZXJzLnBvc2l0aW9uKTsKICAgICAgICBpYVdvcmxkLmdsLmRlbGV0ZUJ1ZmZlcihidWZmZXJzLmNvbG9yKTsKICAgICAgICBidWZmZXJzLnBvc2l0aW9uID0gbnVsbDsKICAgICAgICBidWZmZXJzLmNvbG9yID0gbnVsbDsKICAgICAgfQoKICAgICAgYnVmZmVycyA9IGlhV29ybGQuYnVmZmVyLnBvc2l0aW9uQnVmZmVyLmluaXRCdWZmZXIocG9zaXRpb25zLCBjb2xvcnMpOwogICAgICBpYVdvcmxkLmhlbGxvSWFXb3JsZChidWZmZXJzLCBmYWxzZSk7CiAgICAgIGlhV29ybGQuZHJhd1BvaW50cygyKTsKICAgICAgcG9zaXRpb25zID0gW107CiAgICAgIGNvbG9ycyA9IFtdOwogICAgfTsKCiAgICBzY2VuZS5hZGQob2JqZWN0KTsKICB9KTsKICAkKCIudGhyZWVEaXYiKS5jaGlsZHJlbigpLmNzcyh7CiAgICAid2lkdGgiOiAiMTAwJSIsCiAgICAiaGVpZ2h0IjogIjEwMCUiCiAgfSk7CiAgcmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUsIGZhbHNlKTsKfSAvLy8vLy8g5Zy65pmv5biD572u55u45YWzCgovKioKICog6Zeq54OB6auY5Lqu6L2u5buT57q/CiAqIEBwYXJhbSBzZWxlY3RlZE9iamVjdHMKICovCgpmdW5jdGlvbiBvdXRsaW5lT2JqKHNlbGVjdGVkT2JqZWN0cykgewogIG91dGxpbmVQYXNzLnB1bHNlUGVyaW9kID0gMjsgLy/mlbDlgLzotorlpKfvvIzlvovliqjotormhaIKCiAgb3V0bGluZVBhc3MudmlzaWJsZUVkZ2VDb2xvci5zZXQoMHhmZjAwMDApOyAvLyDpq5jlhYnpopzoibIKCiAgb3V0bGluZVBhc3MuaGlkZGVuRWRnZUNvbG9yLnNldCgweDAwMDAwMCk7IC8vIOmYtOW9seminOiJsgoKICBvdXRsaW5lUGFzcy51c2VQYXR0ZXJuVGV4dHVyZSA9IGZhbHNlOyAvLyDkvb/nlKjnurnnkIbopobnm5bvvJ8KCiAgb3V0bGluZVBhc3MuZWRnZVN0cmVuZ3RoID0gNTsgLy8g6auY5YWJ6L6557yY5by65bqmCgogIG91dGxpbmVQYXNzLmVkZ2VHbG93ID0gMjsgLy8g6L6557yY5b6u5YWJ5by65bqmCgogIG91dGxpbmVQYXNzLmVkZ2VUaGlja25lc3MgPSAzOyAvLyDpq5jlhYnljprluqYKCiAgb3V0bGluZVBhc3Muc2VsZWN0ZWRPYmplY3RzID0gc2VsZWN0ZWRPYmplY3RzOyAvLyDpnIDopoHpq5jlhYnnmoRvYmoKfQovKioKICog5pif56m66IOM5pmvCiAqLwoKCmZ1bmN0aW9uIHN0YXJzKCkgewogIHZhciByID0gNjM3MSwKICAgICAgc3RhcnNHZW9tZXRyeSA9IFtuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKSwgbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCldOwogIHZhciB2ZXJ0aWNlczEgPSBbXTsKICB2YXIgdmVydGljZXMyID0gW107CiAgdmFyIHZlcnRleCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgNTAwOyBpKyspIHsKICAgIHZlcnRleC54ID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwogICAgdmVydGV4LnkgPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7CiAgICB2ZXJ0ZXgueiA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKICAgIHZlcnRleC5tdWx0aXBseVNjYWxhcihyKTsKICAgIHZlcnRpY2VzMS5wdXNoKHZlcnRleC54LCB2ZXJ0ZXgueSwgdmVydGV4LnopOwogIH0KCiAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgMTUwMDsgX2kyKyspIHsKICAgIHZlcnRleC54ID0gTWF0aC5yYW5kb20oKSAqIDIgLSAxOwogICAgdmVydGV4LnkgPSBNYXRoLnJhbmRvbSgpICogMiAtIDE7CiAgICB2ZXJ0ZXgueiA9IE1hdGgucmFuZG9tKCkgKiAyIC0gMTsKICAgIHZlcnRleC5tdWx0aXBseVNjYWxhcihyKTsKICAgIHZlcnRpY2VzMi5wdXNoKHZlcnRleC54LCB2ZXJ0ZXgueSwgdmVydGV4LnopOwogIH0KCiAgc3RhcnNHZW9tZXRyeVswXS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMxLCAzKSk7CiAgc3RhcnNHZW9tZXRyeVsxXS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMyLCAzKSk7CiAgdmFyIHN0YXJzTWF0ZXJpYWxzID0gW25ldyBUSFJFRS5Qb2ludHNNYXRlcmlhbCh7CiAgICBjb2xvcjogJyNBMUZGRjInLAogICAgc2l6ZTogMiwKICAgIHNpemVBdHRlbnVhdGlvbjogZmFsc2UKICB9KSwgbmV3IFRIUkVFLlBvaW50c01hdGVyaWFsKHsKICAgIGNvbG9yOiAnI2ZmNzg1ZCcsCiAgICBzaXplOiAyLAogICAgc2l6ZUF0dGVudWF0aW9uOiBmYWxzZQogIH0pLCBuZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoewogICAgY29sb3I6ICcjRkZGRjAwJywKICAgIHNpemU6IDIsCiAgICBzaXplQXR0ZW51YXRpb246IGZhbHNlCiAgfSksIG5ldyBUSFJFRS5Qb2ludHNNYXRlcmlhbCh7CiAgICBjb2xvcjogMHgzYTNhM2EsCiAgICBzaXplOiAzLAogICAgc2l6ZUF0dGVudWF0aW9uOiBmYWxzZQogIH0pLCBuZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoewogICAgY29sb3I6ICcjZGNiZTEzJywKICAgIHNpemU6IDIsCiAgICBzaXplQXR0ZW51YXRpb246IGZhbHNlCiAgfSksIG5ldyBUSFJFRS5Qb2ludHNNYXRlcmlhbCh7CiAgICBjb2xvcjogJyM3QkRDM0EnLAogICAgc2l6ZTogMSwKICAgIHNpemVBdHRlbnVhdGlvbjogZmFsc2UKICB9KV07CgogIGZvciAodmFyIF9pMyA9IDEwOyBfaTMgPCAzMDA7IF9pMysrKSB7CiAgICB2YXIgX3N0YXJzID0gbmV3IFRIUkVFLlBvaW50cyhzdGFyc0dlb21ldHJ5W19pMyAlIDJdLCBzdGFyc01hdGVyaWFsc1tfaTMgJSA2XSk7CgogICAgX3N0YXJzLnJvdGF0aW9uLnggPSBNYXRoLnJhbmRvbSgpICogNjsKICAgIF9zdGFycy5yb3RhdGlvbi55ID0gTWF0aC5yYW5kb20oKSAqIDY7CiAgICBfc3RhcnMucm90YXRpb24ueiA9IE1hdGgucmFuZG9tKCkgKiA2OwoKICAgIF9zdGFycy5zY2FsZS5zZXRTY2FsYXIoX2kzICogNTApOwoKICAgIF9zdGFycy5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7CgogICAgX3N0YXJzLnVwZGF0ZU1hdHJpeCgpOwoKICAgIHNjZW5lLmFkZChfc3RhcnMpOwogIH0KfQovKioKICog5Zy65pmv54Gv5YWJCiAqLwoKCmZ1bmN0aW9uIGxpZ2h0KCkgewogIHZhciBwb2ludCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4NDQ0NDQ0KTsKICBwb2ludC5wb3NpdGlvbi5zZXQoMTAwMCwgMTAwMCwgMTAwMCk7CiAgcG9pbnQubG9va0F0KDAsIDAsIDApOwogIHNjZW5lLmFkZChwb2ludCk7CiAgdmFyIHBvaW50MiA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4NDQ0NDQ0KTsKICBwb2ludDIucG9zaXRpb24uc2V0KC0xMDAwLCAtMTAwMCwgLTEwMDApOwogIHBvaW50Mi5sb29rQXQoMCwgMCwgMCk7CiAgc2NlbmUuYWRkKHBvaW50Mik7CiAgdmFyIHBvaW50MyA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4NDQ0NDQ0KTsKICBwb2ludDMucG9zaXRpb24uc2V0KC0xMDAwLCAxMDAwLCAtMTAwMCk7CiAgcG9pbnQzLmxvb2tBdCgwLCAwLCAwKTsKICBzY2VuZS5hZGQocG9pbnQzKTsKICB2YXIgcG9pbnQ0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHg0NDQ0NDQpOwogIHBvaW50NC5wb3NpdGlvbi5zZXQoLTEwMDAsIDEwMDAsIDEwMDApOwogIHBvaW50NC5sb29rQXQoMCwgMCwgMCk7CiAgc2NlbmUuYWRkKHBvaW50NCk7Cn0KLyoqCiAqIOWIneWni+WMlua4suafk+WZqAogKiBAcmV0dXJucyB7V2ViR0wxUmVuZGVyZXJ9CiAqLwoKCmZ1bmN0aW9uIGluaXRSZW5kZXIoKSB7CiAgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7CiAgICBhbnRpYWxpYXM6IHRydWUgLy/mipfplK/pvb8KCiAgfSk7CiAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7CiAgcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICByZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7CiAgcmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5SZWluaGFyZFRvbmVNYXBwaW5nOwogIHJlbmRlcmVyLnRvbmVNYXBwaW5nRXhwb3N1cmUgPSBNYXRoLnBvdyhwYXJhbXMuZXhwb3N1cmUsIDQuMCk7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KTsgLy8gYm9keeS4reaPkuWFpWNhbnZhc+WvueixoQoKICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudCk7IC8v5o6n5Yi25rWB5YWJ55S75biD5piv5ZCm5re75Yqg5YiwZGl2CgogIHJldHVybiByZW5kZXJlcjsKfQovKioKICog5rWB5YWJ55S75biDCiAqIEByZXR1cm5zIHtIVE1MQ2FudmFzRWxlbWVudH0KICovCgoKZnVuY3Rpb24gZmxvd2luZ0xpZ2h0Q2FudmFzKCkgewogIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogIGNhbnZhcy5pZCA9ICdnbGNhbnZhcyc7CiAgY2FudmFzLndpZHRoID0gd2lkdGg7CiAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsgLy8gY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CiAgLy8gY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKCiAgY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJzsKICBjYW52YXMuc3R5bGUudG9wID0gJzBweCc7CiAgY2FudmFzLnN0eWxlLmxlZnQgPSAnMHB4JzsKICBjYW52YXMuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJzsKICByZXR1cm4gY2FudmFzOwp9Ci8qKgogKiDliJ3lp4vljJbmjqfliLblmagKICogQHJldHVybnMge09yYml0Q29udHJvbHN9CiAqLwoKCmZ1bmN0aW9uIGNvbnRyb2woKSB7CiAgY29udHJvbHMgPSBuZXcgT3JiaXRDb250cm9scyhjYW1lcmEsIHJlbmRlcmVyLmRvbUVsZW1lbnQpOwogIGNvbnRyb2xzLnJvdGF0ZVNwZWVkID0gMC4yOyAvL+aXi+i9rOmAn+W6pgoKICBjb250cm9scy56b29tU3BlZWQgPSAyLjU7IC8v57yp5pS+6YCf5bqmCgogIGNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IDAuNTsKICBjb250cm9scy5tYXhEaXN0YW5jZSA9IDgwMDAwOwogIGNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMDsKICBjb250cm9scy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSSAqIDAuNDsgLy/mjqfliLbop4bop5Lkv6/ku7Dop5LluqYKCiAgcmV0dXJuIGNvbnRyb2xzOwp9IC8vLy8vLyDlvqrnjq/op4bop5Lnm7jlhbMKCi8qKgogKiDkuLvlh73mlbAgLS0gMu+8iOW+queOr+WKqOeUu++8iQogKi8KCgpleHBvcnQgZnVuY3Rpb24gYW5pbWF0ZSgpIHsKICBjb250cm9scy5hdXRvUm90YXRlID0gdHJ1ZTsKCiAgaWYgKCFmbGFnKSB7CiAgICBjb250cm9scy5hdXRvUm90YXRlID0gZmFsc2U7CiAgfQoKICBUV0VFTi51cGRhdGUoKTsKICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShtb3VzZSwgY2FtZXJhKTsKICB2YXIgZGVsdGEgPSBjbG9jay5nZXREZWx0YSgpOwogIGNvbnRyb2xzLnVwZGF0ZShkZWx0YSk7IC8vIGNvbXBvc2VyLnJlbmRlcihkZWx0YSk7CgogIHJlbmRlcnMoKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpYS52aWV3Lm1hdDQubGVuZ3RoOyBpKyspIHsKICAgIGlhLnZpZXcubWF0NFtpXSA9IGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UuZWxlbWVudHNbaV07CiAgICBpYS5leWVzLm1hdDRbaV0gPSBjYW1lcmEucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1tpXTsKICB9CgogIGRyYXdQb2ludCgpOwogIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTsKfQovKioKICog5bmz5ruR55u45py6CiAqICovCgpmdW5jdGlvbiB0d2VlbkFuaW1hdGUocG9zaXRpb25BLCBwb3NpdGlvbkIpIHsKICBuZXcgVFdFRU4uVHdlZW4ocG9zaXRpb25BKS50byhwb3NpdGlvbkIsIDE4MDApLm9uVXBkYXRlKGZ1bmN0aW9uIChwb3MpIHsKICAgIGNvbnRyb2xzLmVuYWJsZWQgPSBmYWxzZTsKICB9KS5vbkNvbXBsZXRlKGZ1bmN0aW9uICgpIHsKICAgIGNvbnRyb2xzLmVuYWJsZWQgPSB0cnVlOwoKICAgIGlmICh2ZWN0b3IzKSB7CiAgICAgIGNhbWVyYS5sb29rQXQodmVjdG9yMyk7CiAgICB9CiAgfSkuZWFzaW5nKFRXRUVOLkVhc2luZy5DdWJpYy5Jbk91dCkuc3RhcnQoKTsKfSAvLy8vLy8g6L6J5YWJ5riy5p+T55u45YWzCgovKioKICog57uE5ZCI5riy5p+TCiAqICovCgoKZnVuY3Rpb24gcmVuZGVycygpIHsKICBibG9vbUNvbXBvc2VyLnJlbmRlclRvU2NyZWVuID0gZmFsc2U7CiAgcmVuZGVyQmxvb20odHJ1ZSk7CiAgY29tcG9zZXIucmVuZGVyKCk7Cn0KLyoqCiAqIOa4suafk+i+ieWFiQogKiAqLwoKCmZ1bmN0aW9uIHJlbmRlckJsb29tKG1hc2spIHsKICBpZiAobWFzayA9PT0gdHJ1ZSkgewogICAgc2NlbmUudHJhdmVyc2UoZGFya2VuTm9uQmxvb21lZCk7CiAgICBibG9vbUNvbXBvc2VyLnJlbmRlcigpOwogICAgc2NlbmUudHJhdmVyc2UocmVzdG9yZU1hdGVyaWFsKTsKICB9IGVsc2UgewogICAgY2FtZXJhLmxheWVycy5zZXQoQkxPT01fU0NFTkUpOwogICAgYmxvb21Db21wb3Nlci5yZW5kZXIoKTsKICAgIGNhbWVyYS5sYXllcnMuc2V0KEVOVElSRV9TQ0VORSk7CiAgfQp9Ci8qKgogKiDnp7vpmaTovonlhYkKICogKi8KCgpmdW5jdGlvbiBkYXJrZW5Ob25CbG9vbWVkKG9iaikgewogIGlmIChvYmouaXNNZXNoICYmIGJsb29tTGF5ZXIudGVzdChvYmoubGF5ZXJzKSA9PT0gZmFsc2UpIHsKICAgIG1hdGVyaWFsc1tvYmoudXVpZF0gPSBvYmoubWF0ZXJpYWw7CiAgICBvYmoubWF0ZXJpYWwgPSBkYXJrTWF0ZXJpYWw7CiAgfQp9Ci8qKgogKiDmnZDotKjph43nva4KICogKi8KCgpmdW5jdGlvbiByZXN0b3JlTWF0ZXJpYWwob2JqKSB7CiAgaWYgKG1hdGVyaWFsc1tvYmoudXVpZF0pIHsKICAgIG9iai5tYXRlcmlhbCA9IG1hdGVyaWFsc1tvYmoudXVpZF07CiAgICBkZWxldGUgbWF0ZXJpYWxzW29iai51dWlkXTsKICB9Cn0gLy8vLy8vIOWwhOe6v+aPkOWPluebuOWFswoKLyoqCiAqIOm8oOagh+enu+WKqC0t5bCE57q/5o+Q5Y+WCiAqICovCgoKZnVuY3Rpb24gb25Qb2ludGVyTW92ZShldmVudCkgewogIC8vIGZsYWcgPSBmYWxzZTsKICBpZiAoZXZlbnQuaXNQcmltYXJ5ID09PSBmYWxzZSkgcmV0dXJuOwogIG1vdXNlLnggPSBldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGggKiAyIC0gMTsKICBtb3VzZS55ID0gLShldmVudC5jbGllbnRZIC8gd2luZG93LmlubmVySGVpZ2h0KSAqIDIgKyAxOwogIGNoZWNrSW50ZXJzZWN0aW9uKCk7Cn0KCmZ1bmN0aW9uIGNoZWNrSW50ZXJzZWN0aW9uKCkgewogIHZhciBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdChzY2VuZSwgdHJ1ZSk7CgogIGlmIChpbnRlcnNlY3RzLmxlbmd0aCA+IDApIHsKICAgIHZhciBzZWxlY3RlZE9iamVjdCA9IGludGVyc2VjdHNbMF0ub2JqZWN0OwogICAgYWRkU2VsZWN0ZWRPYmplY3Qoc2VsZWN0ZWRPYmplY3QpOwogICAgb3V0bGluZVBhc3Muc2VsZWN0ZWRPYmplY3RzID0gc2VsZWN0ZWRPYmplY3RzOwogICAgb3V0bGluZU9iaihzZWxlY3RlZE9iamVjdHMpOwogIH0gZWxzZSB7Ly8gb3V0bGluZVBhc3Muc2VsZWN0ZWRPYmplY3RzID0gW107CiAgfQp9CgpmdW5jdGlvbiBhZGRTZWxlY3RlZE9iamVjdChvYmplY3QpIHsKICBzZWxlY3RlZE9iamVjdHMgPSBbXTsKICBzZWxlY3RlZE9iamVjdHMucHVzaChvYmplY3QpOwp9Ci8qKgogKiDpvKDmoIfngrnlh7stLeWwhOe6v+aPkOWPlgogKiAqLwoKCmZ1bmN0aW9uIG9uRG9jdW1lbnRNb3VzZUNsaWNrKGV2ZW50KSB7CiAgZmxhZyA9IGZhbHNlOwogIGlmIChldmVudC5pc1ByaW1hcnkgPT09IGZhbHNlKSByZXR1cm47CiAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICBtb3VzZS54ID0gZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoICogMiAtIDE7CiAgbW91c2UueSA9IC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMTsKICBjaGVja0ludGVyc2VjdGlvbkNsaWNrKCk7Cn0KCmZ1bmN0aW9uIGNoZWNrSW50ZXJzZWN0aW9uQ2xpY2soKSB7CiAgaWYgKCFzZWxlY3RGbGFnKSB7CiAgICBub3RTZWxlY3RlZCA9IFtdOwogICAgdmFyIGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0KHNjZW5lLCB0cnVlKTsKCiAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnbGNhbnZhcycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIHNlbGVjdGVkT2JqZWN0ID0gaW50ZXJzZWN0c1swXS5vYmplY3Q7CiAgICAgIHNlbGVjdGVkT2JqZWN0LmxheWVycy50b2dnbGUoQkxPT01fU0NFTkUpOwogICAgICByZW5kZXJzKCk7CiAgICAgIHZhciBvYmpzID0gc2NlbmUuY2hpbGRyZW47CiAgICAgICQoIiNidG5TZWxlY3QiKS5zaG93KCk7CgogICAgICBmb3IgKHZhciBsID0gMDsgbCA8IG9ianMubGVuZ3RoOyBsKyspIHsKICAgICAgICBpZiAob2Jqc1tsXS50eXBlID09ICdHcm91cCcpIHsKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2Jqc1tsXS5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QubmFtZSAhPSBvYmpzW2xdLmNoaWxkcmVuW2ldLm5hbWUpIHsKICAgICAgICAgICAgICBub3RTZWxlY3RlZC5wdXNoKG9ianNbbF0uY2hpbGRyZW5baV0pOwogICAgICAgICAgICAgIG9ianNbbF0uY2hpbGRyZW5baV0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG9ianNbbF0uY2hpbGRyZW5baV0uZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk7CiAgICAgICAgICAgICAgdmVjdG9yMyA9IG9ianNbbF0uY2hpbGRyZW5baV0uZ2VvbWV0cnkuYm91bmRpbmdCb3guZ2V0Q2VudGVyKG5ldyBUSFJFRS5WZWN0b3IzKCkpOyAvLyBjb25zb2xlLmxvZyhvYmpzW2xdLmNoaWxkcmVuW2ldLmdlb21ldHJ5LmJvdW5kaW5nQm94LmdldENlbnRlcihuZXcgVEhSRUUuVmVjdG9yMygpKSkKCiAgICAgICAgICAgICAgaWYgKHZlY3RvcjMueSA+IDApIHsKICAgICAgICAgICAgICAgIGlmICh2ZWN0b3IzLnogPCAwKSB7CiAgICAgICAgICAgICAgICAgIGlmICh2ZWN0b3IzLnggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdHdlZW5BbmltYXRlKGNhbWVyYS5wb3NpdGlvbiwgbmV3IFRIUkVFLlZlY3RvcjModmVjdG9yMy54ICogMiwgdmVjdG9yMy55ICogNiwgLXZlY3RvcjMueiAqIDcwKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmVjdG9yMy54IDwgMCkgewogICAgICAgICAgICAgICAgICAgIHR3ZWVuQW5pbWF0ZShjYW1lcmEucG9zaXRpb24sIG5ldyBUSFJFRS5WZWN0b3IzKC12ZWN0b3IzLnggKiAyLCAtdmVjdG9yMy55ICogMywgLXZlY3RvcjMueiAqIDkwKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmVjdG9yMy56ID4gMCkgewogICAgICAgICAgICAgICAgICBpZiAodmVjdG9yMy54ID4gMCkgewogICAgICAgICAgICAgICAgICAgIGlmICh2ZWN0b3IzLnggPiAxMCkgewogICAgICAgICAgICAgICAgICAgICAgdHdlZW5BbmltYXRlKGNhbWVyYS5wb3NpdGlvbiwgbmV3IFRIUkVFLlZlY3RvcjModmVjdG9yMy54ICogMzAsIHZlY3RvcjMueSAqIDUsIHZlY3RvcjMueiArIDEyMDApKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgdHdlZW5BbmltYXRlKGNhbWVyYS5wb3NpdGlvbiwgbmV3IFRIUkVFLlZlY3RvcjModmVjdG9yMy54ICogNSwgdmVjdG9yMy55ICogNSwgdmVjdG9yMy56ICsgMTIwMCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2ZWN0b3IzLnggPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgdHdlZW5BbmltYXRlKGNhbWVyYS5wb3NpdGlvbiwgbmV3IFRIUkVFLlZlY3RvcjMoLXZlY3RvcjMueCAqIDMwLCB2ZWN0b3IzLnkgKiA1LCB2ZWN0b3IzLnogKyAxMjAwKSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZlY3RvcjMueCA9IHZlY3RvcjMueSA9IHZlY3RvcjMueiA9PSAwKSB7CiAgICAgICAgICAgICAgICB0d2VlbkFuaW1hdGUoY2FtZXJhLnBvc2l0aW9uLCBuZXcgVEhSRUUuVmVjdG9yMygxNTAwLCA4MDAsIDE4MDApKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNlbGVjdEZsYWcgPSB0cnVlOwogICAgfSBlbHNlIHt9CiAgfQp9"},{"version":3,"sources":["/Users/luzheng/Desktop/react+ts电商平台/vueDataV/src/views/home/threeJS.js"],"names":["THREE","Ia","$","OBJLoader","OrbitControls","EffectComposer","RenderPass","OutlinePass","ShaderPass","UnrealBloomPass","FXAAShader","selectedObjects","radius","tilt","rotationSpeed","camera","controls","scene","renderer","stats","geometry","composer","mouse","raycaster","vector3","dirLight","video","outlinePass","renderScene","notSelected","cameraPostionStart","bloomComposer","bloomPass","finalPass","container","buffers","canvas","mixer","selectedObject","flag","selectFlag","textureLoader","TextureLoader","clock","Clock","width","window","innerWidth","height","innerHeight","times","ia","iaWorld","world","colorful","useSimplePoint","lineInfo","colors","positions","drawPoint","ENTIRE_SCENE","BLOOM_SCENE","bloomLayer","Layers","set","darkMaterial","MeshBasicMaterial","color","materials","params","exposure","bloomStrength","bloomThreshold","bloomRadius","addEventListener","onDocumentMouseClick","onresize","aspect","updateProjectionMatrix","setSize","renders","document","getElementById","onClick","layers","disableAll","toggle","style","display","hide","tweenAnimate","position","length","i","visible","init","createElement","setAttribute","boxThree","appendChild","Raycaster","Vector2","Scene","fog","FogExp2","PerspectiveCamera","Vector3","x","y","z","light","stars","initRender","flowingLightCanvas","add","GridHelper","control","addPass","threshold","strength","renderToScreen","ShaderMaterial","uniforms","baseTexture","value","bloomTexture","renderTarget2","texture","vertexShader","textContent","fragmentShader","defines","needsSwap","loaderObj","mat4","MeshPhysicalMaterial","emissive","emissiveMap","load","roughness","reflectivity","mat44","object","traverse","child","isMesh","name","material","castShadow","receiveShadow","scale","xhr","lengthComputable","percentComplete","loaded","total","console","log","Math","round","children","pointsMod","includes","size","vec3","array","attributes","j","push","curve","CatmullRomCurve3","points","getPoints","k","n","disTance","distanceTo","floor","m","maxTimes","initIaWorld","ip","gl","deleteBuffer","buffer","positionBuffer","initBuffer","helloIaWorld","drawPoints","css","domElement","onPointerMove","outlineObj","pulsePeriod","visibleEdgeColor","hiddenEdgeColor","usePatternTexture","edgeStrength","edgeGlow","edgeThickness","r","starsGeometry","BufferGeometry","vertices1","vertices2","vertex","random","multiplyScalar","Float32BufferAttribute","starsMaterials","PointsMaterial","sizeAttenuation","Points","rotation","setScalar","matrixAutoUpdate","updateMatrix","point","PointLight","lookAt","point2","point3","point4","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","shadowMap","enabled","toneMapping","ReinhardToneMapping","toneMappingExposure","pow","body","id","top","left","pointerEvents","rotateSpeed","zoomSpeed","autoRotateSpeed","maxDistance","minDistance","maxPolarAngle","PI","animate","autoRotate","TWEEN","update","setFromCamera","delta","getDelta","view","matrixWorldInverse","elements","eyes","projectionMatrix","requestAnimationFrame","positionA","positionB","Tween","to","onUpdate","pos","onComplete","easing","Easing","Cubic","InOut","start","renderBloom","render","mask","darkenNonBloomed","restoreMaterial","obj","test","uuid","event","isPrimary","clientX","clientY","checkIntersection","intersects","intersectObject","addSelectedObject","preventDefault","checkIntersectionClick","objs","show","l","type","computeBoundingBox","boundingBox","getCenter"],"mappings":"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","sourcesContent":["    import * as THREE from 'three';\n    import Ia from './thinkia'\n    import $ from 'jquery'\n    import { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader.js';\n    import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n    import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\n    import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\n    import { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass.js';\n    import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';\n    import { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';\n    import { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader.js';\n    \n        var selectedObjects = [];\n        const radius = 6371;\n        const tilt = 0.41;\n        const rotationSpeed = 0.02;\n        var camera, controls, scene, renderer, stats, geometry, composer, mouse, raycaster, vector3,\n            dirLight, video, outlinePass, renderScene, notSelected, cameraPostionStart, bloomComposer, bloomPass, finalPass,\n            container, buffers, canvas, mixer, selectedObject;\n        var flag = true, selectFlag = false;\n        var textureLoader = new THREE.TextureLoader();\n        var clock = new THREE.Clock();\n        var width = window.innerWidth, height = window.innerHeight;\n    \n        var times = 0;\n        var ia = Ia();\n        var iaWorld = ia.world;\n        ia.colorful.useSimplePoint(3);\n        var lineInfo = [], colors = [], positions = [];\n        var drawPoint = function () {};\n    \n        // 辉光参数配置\n        const ENTIRE_SCENE = 0, BLOOM_SCENE = 1;\n        var bloomLayer = new THREE.Layers();\n        bloomLayer.set(BLOOM_SCENE);\n        const darkMaterial = new THREE.MeshBasicMaterial({color: \"black\"});\n        const materials = {};\n        const params = {\n            exposure: 1,\n            bloomStrength: 2.3,\n            bloomThreshold: 0,\n            bloomRadius: 0,\n            scene: \"Scene with Glow\"\n        };\n    \n        /**\n         * 事件\n         * */\n        window.addEventListener('click', onDocumentMouseClick, false);\n        window.addEventListener('dblclick', function () {\n            flag = true;\n        });\n        window.onresize = function () {\n    \n            const width = window.innerWidth;\n            const height = window.innerHeight;\n    \n            camera.aspect = width / height;\n            camera.updateProjectionMatrix();\n    \n            renderer.setSize( width, height );\n    \n            bloomComposer.setSize( width, height );\n            composer.setSize( width, height );\n    \n            renders();\n    \n        };\n        document.getElementById('btnSelect').onClick = function(){\n            selectFlag = false;\n            selectedObject.layers.disableAll();\n            selectedObject.layers.toggle(ENTIRE_SCENE);\n            document.getElementById('glcanvas').style.display = 'block';\n            $(\"#btnSelect\").hide();\n            tweenAnimate(camera.position, cameraPostionStart);\n            if(notSelected.length > 0){\n                for (var i = 0; i < notSelected.length; i++) {\n                    notSelected[i].visible = true;\n                }\n                notSelected = [];\n            }else {}\n        };\n    \n        /**\n         * 主函数  -- 1（初始化）\n         * */\n        export function init() {\n            //容器\n            // container = document.createElement('div');\n            // document.body.appendChild(container);\n            \n            container = document.createElement('div');\n            container.setAttribute('class','threeDiv')\n            container.style.width = '100%';\n            container.style.height = '100%';\n            let boxThree = document.getElementById('BoxDD');\n            boxThree.appendChild(container);\n            //射线提取器\n            raycaster = new THREE.Raycaster();\n            mouse = new THREE.Vector2();\n    \n            //搭建场景\n            scene = new THREE.Scene();\n            scene.fog = new THREE.FogExp2(0x000000, 0.00000025);\n    \n            //相机初始化\n            camera = new THREE.PerspectiveCamera(30, width/height, 1, 5000000);\n            cameraPostionStart = new THREE.Vector3(1000, 500, 1000);\n            camera.position.set(cameraPostionStart.x, cameraPostionStart.y, cameraPostionStart.z);\n    \n            light();//灯光\n            stars();//星空\n            renderer = initRender();\n            // console.log(document.getElementsByTagName('canvas')[0])\n            container.appendChild(flowingLightCanvas());//div中添加流光画布\n            scene.add(new THREE.GridHelper(2500, 20, 'yellow', '#410041'));\n            controls = control();\n    \n            //正常渲染组合\n            composer = new EffectComposer(renderer);\n            renderScene = new RenderPass(scene, camera);\n            outlinePass = new OutlinePass(new THREE.Vector2(width, height), scene, camera);\n            composer.addPass(renderScene);\n            composer.addPass(outlinePass);\n    \n            //辉光通道\n            bloomPass = new UnrealBloomPass(new THREE.Vector2(width, height), 1.5, 0.4, 0.85);\n            bloomPass.threshold = params.bloomThreshold;\n            bloomPass.strength = params.bloomStrength;\n            bloomPass.radius = params.bloomRadius;\n    \n            //辉光渲染组合\n            bloomComposer = new EffectComposer(renderer);\n            bloomComposer.renderToScreen = false;\n            bloomComposer.addPass(renderScene);\n            bloomComposer.addPass(bloomPass);\n    \n            //正常通道\n            finalPass = new ShaderPass(\n                new THREE.ShaderMaterial( {\n                    uniforms: {\n                        baseTexture: { value: null },\n                        bloomTexture: {value: bloomComposer.renderTarget2.texture}\n                    },\n                    vertexShader: document.getElementById('vertexshader').textContent,\n                    fragmentShader: document.getElementById('fragmentshader').textContent,\n                    defines: {}\n                } ), \"baseTexture\"\n            );\n            finalPass.needsSwap = true;\n            composer.addPass(finalPass);\n    \n            var loaderObj = new OBJLoader();\n            var mat4 = new THREE.MeshPhysicalMaterial({\n                color: 0xc6d0c,\n                emissive:0x94219,// emissive默认黑色\n                emissiveMap: new THREE.TextureLoader().load(\"/static/textures/cube/Park2/posx.jpg\"),\n                roughness: 0.5,\n                reflectivity: 0.2\n            });\n            var mat44 = new THREE.MeshPhysicalMaterial({\n                color: 0x2194ce,\n                emissive:0x94219,// emissive默认黑色\n                emissiveMap: new THREE.TextureLoader().load(\"/static/textures/cube/Park3Med/px.jpg\"),\n                roughness: 0.5,\n                reflectivity: 0.2\n            });\n            loaderObj.load('/static/modelVanKe/fxt/fxt.obj', function (object) {\n                     object.traverse(function (child) {\n                        if (child.isMesh) {\n                            if(child.name != \"yjfqtdx\"){\n                                 child.material = mat44;\n                                 child.castShadow = true;\n                                 child.receiveShadow = true;\n                             }else {\n                                child.material = mat4;\n                                child.layers.toggle(BLOOM_SCENE);\n                            }\n                         }\n                    });\n                     object.position.y = -150;\n                     object.scale.set(3.5, 3.5, 3.5);\n                   scene.add(object);\n                 }, function (xhr) {\n                if (xhr.lengthComputable) {\n                         var percentComplete = xhr.loaded / xhr.total * 100;\n                         console.log(Math.round(percentComplete, 2) + '% downloaded');\n                     }\n            });\n            loaderObj.load('/static/modelVanKe/light/line3.obj', function (object) {\n                object.scale.set(10, 10, 10);\n                for (let i = 0; i < object.children.length; i++) {\n                    lineInfo[i] = {}\n    \n                    lineInfo[i].times = 0\n                    lineInfo[i].colors = []\n                    lineInfo[i].positions = []\n    \n                    lineInfo[i].pointsMod = []\n                    if (object.children[i].name.includes('xi')) {\n                        lineInfo[i].name = 'xi'\n                        lineInfo[i].size = 2\n                        lineInfo[i].color = [1.0, 0.549, 0.188, 1]\n    \n                    } else if (object.children[i].name.includes('zhong')) {\n                        lineInfo[i].name = 'zhong'\n                        lineInfo[i].size = 4\n                        lineInfo[i].color = [0.266, 0.764, 1.0, 1]\n                    } else if (object.children[i].name.includes('cu')) {\n                        lineInfo[i].name = 'cu'\n                        lineInfo[i].size = 8\n                        lineInfo[i].color = [0.392, 1.0, 0.96, 1]\n                    }\n    \n                    let vec3 = [];\n                    let array = object.children[i].geometry.attributes.position.array;\n                    let length = object.children[i].geometry.attributes.position.array.length / 3;\n    \n                    for (let j = 0; j < length; j++) {\n                        //改位置\n                        vec3.push(new THREE.Vector3(array[3 * j]*10, array[3 * j + 1]*10, array[3 * j + 2]*10))\n                    }\n                    let curve = new THREE.CatmullRomCurve3(vec3);\n                    let points = curve.getPoints(100);\n    \n                    for (let k = 0; k < points.length - 1; k++) {\n                        lineInfo[i].pointsMod.push(points[k])\n                        let n;\n                        let disTance = points[k].distanceTo(points[k + 1]);\n                        if (disTance > 0.1) {\n                            n = Math.floor(disTance)  //调长短\n                            for (let m = 0; m < n; m++) {\n                                let x = (points[k + 1].x - points[k].x) * m / n + points[k].x\n                                let y = (points[k + 1].y - points[k].y) * m / n + points[k].y\n                                let z = (points[k + 1].z - points[k].z) * m / n + points[k].z\n                                lineInfo[i].pointsMod.push(new THREE.Vector3(x, y, z))\n                            }\n                        }\n                    }\n                    lineInfo[i].maxTimes = lineInfo[i].pointsMod.length\n                }\n                iaWorld.initIaWorld(false);\n                // 开启混合，透明模式\n                // iaWorld.blend2opacity()\n    \n                drawPoint = function () {\n                    for (let i = 0; i < lineInfo.length; i++) {\n                        lineInfo[i].times += 3\n                        lineInfo[i].colors.push(lineInfo[i].color[0], lineInfo[i].color[1], lineInfo[i].color[2], lineInfo[i].color[3])\n                        lineInfo[i].colors.push(lineInfo[i].color[0], lineInfo[i].color[1], lineInfo[i].color[2], lineInfo[i].color[3])\n                        lineInfo[i].colors.push(lineInfo[i].color[0], lineInfo[i].color[1], lineInfo[i].color[2], lineInfo[i].color[3])\n    \n                        lineInfo[i].positions.push(lineInfo[i].pointsMod[lineInfo[i].times].x, lineInfo[i].pointsMod[lineInfo[i].times].y, lineInfo[i].pointsMod[lineInfo[i].times].z)\n                        lineInfo[i].positions.push(lineInfo[i].pointsMod[lineInfo[i].times + 1].x, lineInfo[i].pointsMod[lineInfo[i].times + 1].y, lineInfo[i].pointsMod[lineInfo[i].times + 1].z)\n                        lineInfo[i].positions.push(lineInfo[i].pointsMod[lineInfo[i].times + 2].x, lineInfo[i].pointsMod[lineInfo[i].times + 2].y, lineInfo[i].pointsMod[lineInfo[i].times + 2].z)\n                        // 衰减效果\n                        for (let j = 1; j < lineInfo[i].times; j++) {\n                            lineInfo[i].colors[j * 4 - 1] -= 0.02\n                        }\n                        // 提高性能\n                        for (let ip = 0; ip < lineInfo[i].positions.length / 3; ip++) {\n                            if (lineInfo[i].colors[ip * 4 + 3] > 0) {\n                                positions[positions.length] = lineInfo[i].positions[ip * 3]\n                                positions[positions.length] = lineInfo[i].positions[ip * 3 + 1]\n                                positions[positions.length] = lineInfo[i].positions[ip * 3 + 2]\n    \n                                colors[colors.length] = lineInfo[i].colors[ip * 4]\n                                colors[colors.length] = lineInfo[i].colors[ip * 4 + 1]\n                                colors[colors.length] = lineInfo[i].colors[ip * 4 + 2]\n                                colors[colors.length] = lineInfo[i].colors[ip * 4 + 3]\n                            }\n                        }\n                        if (lineInfo[i].times > lineInfo[i].maxTimes - 10) {\n                            lineInfo[i].times = 0\n                            lineInfo[i].colors = []\n                            lineInfo[i].positions = []\n                        }\n                    }\n                    if (buffers) {\n                        iaWorld.gl.deleteBuffer(buffers.position)\n                        iaWorld.gl.deleteBuffer(buffers.color)\n                        buffers.position = null\n                        buffers.color = null\n                    }\n                    buffers = iaWorld.buffer.positionBuffer.initBuffer(positions, colors);\n                    iaWorld.helloIaWorld(buffers, false);\n                    iaWorld.drawPoints(2)\n    \n                    positions = []\n                    colors = []\n                }\n                scene.add(object);\n            })\n            $(\".threeDiv\").children().css({\"width\":\"100%\",\"height\":\"100%\"});\n    \n            renderer.domElement.addEventListener('pointermove', onPointerMove, false);\n        }\n    \n        ////// 场景布置相关\n        /**\n         * 闪烁高亮轮廓线\n         * @param selectedObjects\n         */\n        function outlineObj(selectedObjects){\n            outlinePass.pulsePeriod = 2; //数值越大，律动越慢\n            outlinePass.visibleEdgeColor.set(0xff0000); // 高光颜色\n            outlinePass.hiddenEdgeColor.set(0x000000);// 阴影颜色\n            outlinePass.usePatternTexture = false; // 使用纹理覆盖？\n            outlinePass.edgeStrength = 5; // 高光边缘强度\n            outlinePass.edgeGlow = 2; // 边缘微光强度\n            outlinePass.edgeThickness = 3; // 高光厚度\n            outlinePass.selectedObjects = selectedObjects; // 需要高光的obj\n        }\n        /**\n         * 星空背景\n         */\n        function stars() {\n            const r = 6371, starsGeometry = [new THREE.BufferGeometry(), new THREE.BufferGeometry()];\n            const vertices1 = [];\n            const vertices2 = [];\n            const vertex = new THREE.Vector3();\n            for (let i = 0; i < 500; i++) {\n                vertex.x = Math.random() * 2 - 1;\n                vertex.y = Math.random() * 2 - 1;\n                vertex.z = Math.random() * 2 - 1;\n                vertex.multiplyScalar(r);\n                vertices1.push(vertex.x, vertex.y, vertex.z);\n            }\n            for (let i = 0; i < 1500; i++) {\n                vertex.x = Math.random() * 2 - 1;\n                vertex.y = Math.random() * 2 - 1;\n                vertex.z = Math.random() * 2 - 1;\n                vertex.multiplyScalar(r);\n                vertices2.push( vertex.x, vertex.y, vertex.z );\n            }\n            starsGeometry[ 0 ].setAttribute('position', new THREE.Float32BufferAttribute(vertices1, 3));\n            starsGeometry[ 1 ].setAttribute('position', new THREE.Float32BufferAttribute(vertices2, 3));\n            const starsMaterials = [\n                new THREE.PointsMaterial( { color: '#A1FFF2', size: 2, sizeAttenuation: false } ),\n                new THREE.PointsMaterial( { color: '#ff785d', size: 2, sizeAttenuation: false } ),\n                new THREE.PointsMaterial( { color: '#FFFF00', size: 2, sizeAttenuation: false } ),\n                new THREE.PointsMaterial( { color: 0x3a3a3a, size: 3, sizeAttenuation: false } ),\n                new THREE.PointsMaterial( { color: '#dcbe13', size: 2, sizeAttenuation: false } ),\n                new THREE.PointsMaterial( { color: '#7BDC3A', size: 1, sizeAttenuation: false } )\n            ];\n            for ( let i = 10; i < 300; i ++ ) {\n                const stars = new THREE.Points( starsGeometry[ i % 2 ], starsMaterials[ i % 6 ] );\n                stars.rotation.x = Math.random() * 6;\n                stars.rotation.y = Math.random() * 6;\n                stars.rotation.z = Math.random() * 6;\n                stars.scale.setScalar( i * 50 );\n                stars.matrixAutoUpdate = false;\n                stars.updateMatrix();\n                scene.add(stars);\n            }\n        }\n        /**\n         * 场景灯光\n         */\n        function light() {\n            var point = new THREE.PointLight(0x444444);\n            point.position.set(1000, 1000, 1000);\n            point.lookAt(0,0,0);\n            scene.add(point);\n            var point2 = new THREE.PointLight(0x444444);\n            point2.position.set(-1000, -1000, -1000);\n            point2.lookAt(0,0,0);\n            scene.add(point2);\n            var point3 = new THREE.PointLight(0x444444);\n            point3.position.set(-1000, 1000, -1000);\n            point3.lookAt(0,0,0);\n            scene.add(point3);\n            var point4 = new THREE.PointLight(0x444444);\n            point4.position.set(-1000, 1000, 1000);\n            point4.lookAt(0,0,0);\n            scene.add(point4);\n        }\n        /**\n         * 初始化渲染器\n         * @returns {WebGL1Renderer}\n         */\n        function initRender() {\n            renderer = new THREE.WebGLRenderer({\n                antialias: true,//抗锯齿\n            });\n            renderer.setPixelRatio(window.devicePixelRatio);\n            renderer.setSize(width, height);\n            renderer.shadowMap.enabled = true;\n            renderer.toneMapping = THREE.ReinhardToneMapping;\n            renderer.toneMappingExposure = Math.pow(params.exposure, 4.0);\n            document.body.appendChild(renderer.domElement);// body中插入canvas对象\n            container.appendChild(renderer.domElement); //控制流光画布是否添加到div\n            return renderer;\n        }\n        /**\n         * 流光画布\n         * @returns {HTMLCanvasElement}\n         */\n        function flowingLightCanvas() {\n            canvas = document.createElement('canvas');\n            canvas.id = 'glcanvas';\n            canvas.width = width;\n            canvas.height = height;\n            // canvas.width = window.innerWidth;\n            // canvas.height = window.innerHeight;\n            canvas.style.position = 'fixed';\n            canvas.style.top = '0px';\n            canvas.style.left = '0px';\n            canvas.style.pointerEvents = 'none';\n            return canvas;\n        }\n        /**\n         * 初始化控制器\n         * @returns {OrbitControls}\n         */\n        function control() {\n            controls = new OrbitControls(camera, renderer.domElement);\n            controls.rotateSpeed = 0.2; //旋转速度\n            controls.zoomSpeed = 2.5; //缩放速度\n            controls.autoRotateSpeed = 0.5;\n            controls.maxDistance = 80000;\n            controls.minDistance = 0;\n            controls.maxPolarAngle = Math.PI * 0.4;//控制视角俯仰角度\n            return controls;\n        }\n    \n        ////// 循环视角相关\n        /**\n         * 主函数 -- 2（循环动画）\n         */\n        export function animate() {\n            controls.autoRotate = true;\n            if(!flag) {controls.autoRotate = false}\n            TWEEN.update();\n            raycaster.setFromCamera(mouse, camera);\n            const delta = clock.getDelta();\n            controls.update(delta);\n            // composer.render(delta);\n            renders();\n            for (let i = 0; i < ia.view.mat4.length; i++) {\n                ia.view.mat4[i] = camera.matrixWorldInverse.elements[i];\n                ia.eyes.mat4[i] = camera.projectionMatrix.elements[i];\n            }\n            drawPoint();\n            requestAnimationFrame(animate);\n        }\n        /**\n         * 平滑相机\n         * */\n        function tweenAnimate(positionA, positionB) {\n            new TWEEN.Tween(positionA).to(positionB, 1800).onUpdate(function (pos){\n                controls.enabled = false;\n            }).onComplete(function() {\n                controls.enabled = true;\n                if(vector3){\n                    camera.lookAt(vector3);\n                }\n            }).easing(TWEEN.Easing.Cubic.InOut).start();\n        }\n    \n        ////// 辉光渲染相关\n        /**\n         * 组合渲染\n         * */\n        function renders() {\n            bloomComposer.renderToScreen = false;\n            renderBloom(true);\n            composer.render();\n        }\n        /**\n         * 渲染辉光\n         * */\n        function renderBloom(mask) {\n            if (mask === true) {\n                scene.traverse(darkenNonBloomed);\n                bloomComposer.render();\n                scene.traverse(restoreMaterial);\n            } else {\n                camera.layers.set(BLOOM_SCENE);\n                bloomComposer.render();\n                camera.layers.set( ENTIRE_SCENE );\n            }\n    \n        }\n        /**\n         * 移除辉光\n         * */\n        function darkenNonBloomed(obj) {\n            if (obj.isMesh && bloomLayer.test(obj.layers) === false) {\n                materials[obj.uuid] = obj.material;\n                obj.material = darkMaterial;\n            }\n        }\n        /**\n         * 材质重置\n         * */\n        function restoreMaterial(obj) {\n            if (materials[obj.uuid]) {\n                obj.material = materials[obj.uuid];\n                delete materials[obj.uuid];\n            }\n        }\n    \n        ////// 射线提取相关\n        /**\n         * 鼠标移动--射线提取\n         * */\n        function onPointerMove(event) {\n            // flag = false;\n            if (event.isPrimary === false) return;\n            mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n            mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n            checkIntersection();\n        }\n        function checkIntersection() {\n            var intersects = raycaster.intersectObject(scene,true);\n            if (intersects.length > 0) {\n                var selectedObject = intersects[0].object;\n                addSelectedObject(selectedObject);\n                outlinePass.selectedObjects = selectedObjects;\n                outlineObj(selectedObjects);\n            } else {\n                // outlinePass.selectedObjects = [];\n            }\n        }\n        function addSelectedObject(object) {\n            selectedObjects = [];\n            selectedObjects.push(object);\n        }\n        /**\n         * 鼠标点击--射线提取\n         * */\n        function onDocumentMouseClick( event ) {\n            flag = false;\n            if (event.isPrimary === false) return;\n            event.preventDefault();\n            mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\n            mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n            checkIntersectionClick();\n        }\n        function checkIntersectionClick(){\n            if(!selectFlag){\n                notSelected = [];\n                var intersects = raycaster.intersectObject(scene,true);\n                if (intersects.length > 0) {\n                    document.getElementById('glcanvas').style.display = 'none';\n                    selectedObject = intersects[0].object;\n                    selectedObject.layers.toggle(BLOOM_SCENE);\n                    renders();\n    \n                    var objs = scene.children;\n                    $(\"#btnSelect\").show();\n                    for (var l = 0; l < objs.length; l++) {\n                        if(objs[l].type == 'Group'){\n                            for (var i = 0; i < objs[l].children.length; i++) {\n                                if(selectedObject.name != objs[l].children[i].name){\n                                    notSelected.push(objs[l].children[i]);\n                                    objs[l].children[i].visible = false;\n                                }else {\n                                    objs[l].children[i].geometry.computeBoundingBox();\n                                    vector3 = objs[l].children[i].geometry.boundingBox.getCenter(new THREE.Vector3());\n                                    // console.log(objs[l].children[i].geometry.boundingBox.getCenter(new THREE.Vector3()))\n                                    if(vector3.y>0){\n                                        if(vector3.z<0){\n                                            if(vector3.x>0){\n                                                tweenAnimate(camera.position, new THREE.Vector3(vector3.x*2, vector3.y*6,\n                                                    -vector3.z*70))\n                                            }else if(vector3.x<0){\n                                                tweenAnimate(camera.position, new THREE.Vector3(-vector3.x*2, -vector3.y*3,\n                                                    -vector3.z*90));\n                                            }\n                                        }else if(vector3.z>0){\n                                            if(vector3.x>0){\n                                                if(vector3.x>10){\n                                                    tweenAnimate(camera.position, new THREE.Vector3(vector3.x*30, vector3.y*5,\n                                                        vector3.z+1200));\n                                                }else {\n                                                    tweenAnimate(camera.position, new THREE.Vector3(vector3.x*5, vector3.y*5,\n                                                        vector3.z+1200));\n                                                }\n                                            }else if(vector3.x<0){\n                                                tweenAnimate(camera.position, new THREE.Vector3(-vector3.x*30, vector3.y*5,\n                                                    vector3.z+1200));\n                                            }\n                                        }\n                                    }else if(vector3.x=vector3.y=vector3.z == 0){\n                                        tweenAnimate(camera.position, new THREE.Vector3(1500, 800,\n                                            1800));\n                                    }\n                                    camera.updateProjectionMatrix();\n                                }\n                            }\n                        }\n                    }\n                    selectFlag = true;\n                } else {\n    \n                }\n            }\n    \n        }\n    "]}]}